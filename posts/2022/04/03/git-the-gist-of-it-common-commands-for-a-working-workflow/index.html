<!DOCTYPE html>
<html lang="en">
    <head>
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.sglavoie.com/theme/css/style.css"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="https://www.sglavoie.com/theme/css/pygments.css"
        />

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="author" content="Sébastien Lavoie" />
        <meta
            name="description"
            content="Posts and writings by Sébastien Lavoie. Customization setups and articles on productivity for developers who like minimalism."
        />
        <meta name="title" property="og:title" content="sglavoie.com" />
        <meta property="og:type" content="Website" />
        <meta
            name="image"
            property="og:image"
            content="https://www.sglavoie.com/theme/images/logo_1200x627.png"
        />

         <link
            href="https://www.sglavoie.com/feeds/sglavoie.rss.xml"
            type="application/rss+xml"
            rel="alternate"
            title="sglavoie.com RSS"
        />

        <!-- Favicon -->
        <link
            rel="apple-touch-icon"
            href="/theme/favicon/apple-touch-icon.png"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="/theme/favicon/favicon-32x32.png"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="16x16"
            href="/theme/favicon/favicon-16x16.png"
        />
        <link rel="manifest" href="/theme/favicon/site.webmanifest" />
        <link
            rel="mask-icon"
            href="/theme/favicon/safari-pinned-tab.svg"
            color="#5bbad5"
        />
        <link rel="shortcut icon" href="/theme/favicon/favicon.ico" />
        <meta name="msapplication-TileColor" content="#2d89ef" />
        <meta
            name="msapplication-TileImage"
            content="/theme/favicon/mstile-144x144.png"
        />
        <meta
            name="msapplication-config"
            content="/theme/favicon/browserconfig.xml"
        />
        <meta name="theme-color" content="#000000" />
        <meta
            name="msapplication-config"
            content="/theme/favicon/browserconfig.xml"
        />
        <meta name="theme-color" content="#000000" />

<meta name="keywords" content="git, productivity, terminal">

<!-- Open graph for social networks -->
<meta name="og:title" property="og:title" content="Git is such a fascinating piece of software. It is not the only distributed version control system out there, but it is certainly ubiquitous in that category and has become a tool that must be mastered by any software developer in the modern era.">

        <title>sglavoie.com &ndash; Git the gist of it: common commands for a working&nbsp;workflow</title>

        <!-- Enable tracking of web traffic -->
<script type="text/javascript">
    var _gaq = _gaq || []
    _gaq.push(['_setAccount', 'UA-150998392-1'])
    _gaq.push(['_trackPageview'])
    ;(function () {
        var ga = document.createElement('script')
        ga.type = 'text/javascript'
        ga.async = true
        ga.src =
            ('https:' == document.location.protocol
                ? 'https://ssl'
                : 'http://www') + '.google-analytics.com/ga.js'
        var s = document.getElementsByTagName('script')[0]
        s.parentNode.insertBefore(ga, s)
    })()
</script>
     </head>

    <body>
        <aside>
            <div id="user_meta">
                <a href="https://www.sglavoie.com">
                    <div>
                        <svg
                            width="24.348mm"
                            height="24.348mm"
                            version="1.1"
                            viewBox="0 0 24.348095 24.347754"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:cc="http://creativecommons.org/ns#"
                            xmlns:dc="http://purl.org/dc/elements/1.1/"
                            xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
                        >
                            <metadata>
                                <rdf:RDF>
                                    <cc:Work rdf:about="">
                                        <dc:format>image/svg+xml</dc:format>
                                        <dc:type
                                            rdf:resource="http://purl.org/dc/dcmitype/StillImage"
                                        />
                                        <dc:title />
                                    </cc:Work>
                                </rdf:RDF>
                            </metadata>
                            <g transform="translate(81.397 -84.454)">
                                <path
                                    d="m-57.049 105.9v2.9029h-11.173v-2.9029z"
                                    fill="#c0c0c0"
                                >
                                    <animate
                                        attributeName="fill"
                                        values="white;grey;white"
                                        dur="2s"
                                        repeatCount="indefinite"
                                    />
                                </path>
                                <path
                                    d="m-72.272 98.481-9.1246 5.7598v-3.548l5.8658-3.5019v-0.09215l-5.8658-3.5019v-3.548l9.1246 5.7598z"
                                    fill="#c0c0c0"
                                />
                                <path
                                    transform="scale(.26458)"
                                    d="m-273.15 319.2-27.588 14.77 8.498 5.3613 19.09-12.049zm15.309 25.67v44.412h8.8672v-35.635h33.361v-8.7773h-33.783zm25.336 24.66v8.7774h8.0254v10.975h8.8672v-19.752z"
                                    fill="#007bff"
                                />
                            </g>
                        </svg>
                    </div>
                </a>
                <ul>
                      <li><a href="https://www.sglavoie.com/category/automation.html">automation</a></li>
                    <li><a href="https://www.sglavoie.com/category/tips-and-tricks.html">tips-and-tricks</a></li>
                    <li><a href="https://www.sglavoie.com/category/tools.html">tools</a></li>
                    <li><a href="https://www.sglavoie.com/category/workflow.html">workflow</a></li>
                  </ul>
            </div>
        </aside>

        <main>
            <header>
                <p>
                    <a href="https://www.sglavoie.com">Home</a> &brvbar;
                    <a href="https://www.sglavoie.com/archives.html">Archives</a> &brvbar;
                    <a href="https://www.sglavoie.com/tags.html">Tags</a> &brvbar;
                    <a href="https://www.sglavoie.com/learning-progress.html"
                        >Learning Progress</a
                    >
                    &brvbar;
                    <a href="https://www.sglavoie.com/contact.html">Contact</a> &brvbar;
                    <a
                        href="https://drive.google.com/file/d/1t6GdZjC13naJXVGe6RinGowZLfkRzjy_/view"
                        target="_blank"
                        rel="noopener noreferrer"
                        >Resume</a
                    >
                </p>
            </header>

<article>
  <div class="article_title">
    <h1><a href="https://www.sglavoie.com/posts/2022/04/03/git-the-gist-of-it-common-commands-for-a-working-workflow/">Git the gist of it: common commands for a working&nbsp;workflow</a></h1>
  </div>
  <div class="flex-container">
    <div class="article_meta">
      <div>Posted on: Sun 03 April 2022</div>
      <div>Category: <a href="https://www.sglavoie.com/category/workflow.html">workflow</a>
 &ndash; Tags:
        <a href="https://www.sglavoie.com/tag/git.html">git</a>,        <a href="https://www.sglavoie.com/tag/productivity.html">productivity</a>,        <a href="https://www.sglavoie.com/tag/terminal.html">terminal</a>      </div>
    </div>
    <div class="article_readtime">
      Estimated read time: 30 minutes
    </div>
  </div>

  <h2 class="toc-title">Table of contents</h2>
  </div>
  <nav class="toc">
    <div class="toc">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#global-and-local-gitignore">Global and local .gitignore</a></li>
<li><a href="#meaningful-commit-messages-with-gitmessage">Meaningful commit messages with .gitmessage</a></li>
<li><a href="#my-usual-git-workflow">My usual Git workflow</a><ul>
<li><a href="#starting-a-new-project">Starting a new project</a></li>
<li><a href="#committing-to-an-existing-project">Committing to an existing project</a><ul>
<li><a href="#being-committed">Being committed</a></li>
<li><a href="#rebase">rebase</a><ul>
<li><a href="#sample-workflow">Sample workflow</a></li>
</ul>
</li>
<li><a href="#merge">merge</a><ul>
<li><a href="#sample-workflow-kinda">Sample workflow (kinda)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#managing-branches">Managing branches</a></li>
</ul>
</li>
<li><a href="#aliases">Aliases</a></li>
<li><a href="#custom-git-sub-commands">Custom Git sub-commands</a></li>
<li><a href="#some-lesser-known-yet-incredibly-useful-commands">Some lesser-known yet incredibly useful commands</a><ul>
<li><a href="#git-bisect">git bisect</a></li>
<li><a href="#git-rerere">git rerere</a></li>
</ul>
</li>
<li><a href="#a-word-on-the-configuration-file">A word on the configuration file</a></li>
<li><a href="#conclusion">Conclusion</a><ul>
<li><a href="#more-resources-and-references">More resources and references</a><ul>
<li><a href="#websites">Websites</a></li>
<li><a href="#youtube">YouTube</a></li>
<li><a href="#online-courses">Online courses</a></li>
<li><a href="#references-for-this-article">References for this article</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
  </nav>
  <div class="article_text">
    
<hr/>
<h1 id="introduction">Introduction</h1>
<p>Git, the friend you wish you had met earlier, when organizing files like <code>report 1.pdf</code>, <code>report 2.pdf</code> and <code>report final 1.pdf</code> still made sense somehow. It’s undoubtedly complicated to wrap one’s head around it at first, although there exist some GUIs to make the journey smoother – the best examples that come to mind would include <a href="https://www.gitkraken.com/">GitKraken</a> and <a href="https://www.git-tower.com/">Tower</a> at the top of the list. I have been advised to learn to use Git from the terminal and I would, without flinching, recommend anyone to do the same to really grok this tool and get an intuitive feel for what it does.</p>
<p>Beyond the extraordinary technical prowess that it is, Git can be useful to a broad audience. It’s not good at dealing with large binary files (and <a href="https://git-lfs.github.com/">Git <span class="caps">LFS</span></a> is not exactly easy to use just yet to cover that case), but for anything involving text that a human can read, it shines – may it be a programming language, some reports written with <a href="https://www.latex-project.org/">LaTeX</a>, some diagrams produced with <a href="http://mermaid-js.github.io/mermaid/#/">Mermaid</a> or <a href="https://plantuml.com/">PlantUML</a>, personal notes taken in plain text or in Markdown or the fact that synchronizing changes made to a project is a breeze and allows ones to work from multiple locations and machines.</p>
<p>With platforms like <a href="https://github.com/">GitHub</a> and <a href="https://about.gitlab.com/">GitLab</a>, it is easy to keep a “backup” of projects, which can be either public or private. And despite Git not being awesome with very large files, any smaller binary files like images and <span class="caps">PDF</span> files can easily be added to a Git repository, allowing users to keep different versions of these files very easily without using a cloud service such as Dropbox or Google Drive. So even if the original input is not written in a text-friendly manner, the output can still be saved under multiple versions with great details, backed up to different websites and fetched just as conveniently from anywhere else (assuming access has been set up to continue working on a project, or at least one can log in to the website and download files without issue).</p>
<p>Sure, it is not for everyone, but the use cases just described can go a long way. I have used it to practice solving programming challenges, to document all my project at the university, to keep track of preferences and configuration files for my different systems (Linux and macOS) which I’ve described in <a href="https://www.sglavoie.com/posts/2021/05/30/managing-dotfiles-with-git-bare-repository/">Managing dotfiles with a Git bare repository</a>, to work on pet programming projects and coding experiments that I keep private, to store code snippets into a growing library for reference purposes, to take notes in the form of “tutorials” or “wiki” (platforms like GitHub and GitLab have a nice wiki feature that renders prose nicely!) for different tasks I need to do infrequently and of course to build this very website in the open (the source code is <a href="https://github.com/sglavoie/sglavoie.github.io-source">available on GitHub</a>)! And that is just describing some of my personal use cases without touching on the fact that collaboration within a team is a huge reason to use it!</p>
<p>So with that said, let’s explore some of its functionality, starting with a few tips and tricks, then delving deeper into a real-world workflow and topping it off with more useful commands and configuration settings.</p>
<hr/>
<h1 id="global-and-local-gitignore">Global and local <code>.gitignore</code></h1>
<p>There are files we never care about adding to Git repositories, such as a thumbnail cache file <code>Thumbs.db</code> on Windows or a <code>.DS_Store</code> file storing custom attributes for folders on macOS. Instead of ignoring these kinds of entries in a per-repository <code>.gitignore</code> file which might not contain everything we would like to exclude, it can be simpler and more efficient to use a global <code>.gitignore</code>, which serves the same purpose but for <em>any</em> Git repository regardless of the presence of a <code>.gitignore</code> in that specific repository! In other words, this serves as a permanent list of things to ignore so that there is no need to remember about them later.</p>
<p>The setup is straightforward: create a file <code>~/.gitignore</code>, fill it as usual with patterns you are sure to want to exclude globally and set a configuration option to use that file – for instance by adding the following to <code>.gitconfig</code>:</p>
<div class="highlight"><pre><span></span><code><span class="k">[core]</span><span class="w"></span>
<span class="w">    </span><span class="na">excludesfile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">~/.gitignore</span><span class="w"></span>
</code></pre></div>
<p>Toptal provides <a href="https://docs.gitignore.io/install/command-line">a nice tool on the command-line</a> that can be used to easily exclude patterns. With it, typing <code>gi python &gt;&gt; .gitignore</code> would append a bunch of common patterns to a <code>.gitignore</code> file – in this case, for Python.</p>
<hr/>
<h1 id="meaningful-commit-messages-with-gitmessage">Meaningful commit messages with <code>.gitmessage</code></h1>
<p>Besides using the excellent <a href="https://www.conventionalcommits.org/en/v1.0.0/">Conventional Commits</a> specification to write messages in a format that makes sense to other fellow human beings, using a template for Git commits can help with remembering <em>why</em> commits are made and how they should be structured. There is a configuration setting, <code>commit.template</code>, that can be used to set the default text being displayed when a text editor opens after typing <code>git commit</code>.</p>
<p>The following is the current template I use, which can be saved in a file like <code>~/.gitmessage</code>:</p>
<div class="highlight"><pre><span></span><code># [Add/Fix/Remove/Update/Refactor/Document] [summary]


# Why is it necessary? (Bug fix, feature, improvements?)
#-
# How does the change address the issue?
#-
# What side effects does this change have?
#-
# Include a link to the ticket, if any.
</code></pre></div>
<p>Then, this can be added to the config file under the <code>[commit]</code> section like so:</p>
<div class="highlight"><pre><span></span><code><span class="k">[commit]</span><span class="w"></span>
<span class="w">    </span><span class="na">template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">~/.gitmessage</span><span class="w"></span>
</code></pre></div>
<p>All lines starting with a hash symbol (<code>#</code>) will be ignored, so there is no need to manually delete all of this verbose content when saving the commit message. Sweet!</p>
<hr/>
<h1 id="my-usual-git-workflow">My usual Git workflow</h1>
<p>This section depends very much on team standards, if applicable. But in general terms and considering mostly a solo interaction with Git, I like to adhere to the following processes, without taking into account how one would plan, produce diagrams, brainstorm, etc. That shall be the topic of an upcoming post!</p>
<h2 id="starting-a-new-project">Starting a new project</h2>
<p>There are different ways to proceed, although I like the simplicity of just creating a new empty repository on GitHub and cloning it on my machine using the <span class="caps">SSH</span> protocol, e.g. <code>git clone git@github.com:some/project.git</code>. This has the benefit of automatically setting the <code>main</code> branch and the remote <span class="caps">URL</span>, using <code>origin</code> as the default remote. Cloning an empty repository has the same effect as starting with <code>git init</code>, so this also becomes unnecessary.</p>
<p>If I have been experimenting locally first, I would do a <code>git init</code>, commit any changes and then push the new repository on GitHub, either using the great Git integration provided by <span class="caps">VS</span> Code or again creating a new repository on GitHub to set the remote <span class="caps">URL</span> in order to be able to push local changes, i.e. by doing <code>git remote add origin git@github.com:some/project.git</code> and then pushing to that new <span class="caps">URL</span>. To make sure that my default branch is always <code>main</code> (to match the new default on GitHub) and not something like <code>dev</code> or <code>master</code>, I have a Git template lying around that ensures that the first branch created when doing <code>git init</code> will be <code>main</code>. It is as simple as creating the file <code>~/.git-templates/HEAD</code> with this content:</p>
<div class="highlight"><pre><span></span><code>ref: refs/heads/main
</code></pre></div>
<p>Then, in <code>~/.gitconfig</code>, the following section is used to read the templates:</p>
<div class="highlight"><pre><span></span><code><span class="k">[init]</span><span class="w"></span>
<span class="w">    </span><span class="na">defaultBranch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">main</span><span class="w"></span>
<span class="w">    </span><span class="na">templateDir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">~/.git-templates</span><span class="w"></span>
</code></pre></div>
<p>I have this template since before <code>init.defaultBranch</code> was introduced in Git 2.28.0 back in July 2020: now just having the option <code>defaultBranch</code> will do the trick. Still, it’s good to have a <code>templateDir</code> configured for other purposes! Although admittedly, I don’t use them at all and would rather create a custom command to more easily script what I need for each repository: more on this in the section <a href="#custom-git-sub-commands">Custom Git sub-commands</a>.</p>
<h2 id="committing-to-an-existing-project">Committing to an existing project</h2>
<p>Now that there is some folder set up for Git to track files, it’s time to make changes! I’m a big fan of committing “small and often” because Git is super flexible and updating the history is usually a simple process – unless you have pushed to a remote repository used by other people, in which case being a “force push” type of person won’t make you many friends. May the <code>--force</code> be with you when you push to a private repository where you’re the only contributor, otherwise, it’s good practice to think twice before sending your final changes away as you should not mess up with public history (and depending on how your access is set up within a team, you might not even be able to use the <code>--force</code> flag when pushing on certain branches!).</p>
<p>So what’s the alternative to constantly rewriting history in a harmful way? Well, assuming you have a choice when working alone for instance, there are two main contenders: <em>merge</em> vs <em>rebase</em>. I think neither option is better than the other when used right, but it’s good to know that <em>rebase</em> might create possible headaches because it modifies the Git history while <em>merge</em> might create undesirable noise when used profusely by adding “merge commits”. I use both techniques, but for different purposes.</p>
<h3 id="being-committed">Being committed</h3>
<p>The basic workflow might look like this, with a couple of different options thrown in to cover more scenarios:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Check the current state of the repo</span>
git status

<span class="c1"># Inspect the changes to commit (before staging)</span>
git diff

<span class="c1"># Stage a file to be committed</span>
git add SOME_FILE

<span class="c1"># Stage all new/modified files, (i.e., --all)</span>
git add -A

<span class="c1"># Stage all modified files (not any new ones, i.e., --update)</span>
git add -u

<span class="c1"># Get fancy with adding patches only (part of files)</span>
git add -p

<span class="c1"># Undo changes done to a tracked file</span>
git restore -- FILE_NAME

<span class="c1"># Inspect staged changes to commit</span>
git diff --staged

<span class="c1"># Unstage files</span>
git reset HEAD --

<span class="c1"># or just 'git commit' to open a text editor</span>
git commit -m <span class="s2">"SOME_MESSAGE"</span>

<span class="c1"># See the changes done in the latest commit</span>
git show

<span class="c1"># or a specific commit hash from earlier</span>
git show COMMIT_HASH  <span class="c1"># or ref like HEAD^</span>

<span class="c1"># Forgot to add something?</span>
git add SOME_OTHER_FILE
git commit --amend --no-edit

<span class="c1"># Want to rephrase the last commit?</span>
git commit --amend

<span class="c1"># Tag the latest commit</span>
git tag TAG_NAME

<span class="c1"># Tag earlier commit with annotation</span>
git tag -a TAG_NAME COMMIT_HASH -m <span class="s2">"MESSAGE"</span>

<span class="c1"># Undo a commit, keeping changes in the work tree</span>
git reset HEAD^

<span class="c1"># Undo a commit and DO NOT keep changes</span>
git reset --hard HEAD^

<span class="c1"># Oops, get back a commit that was "lost"</span>
git reflog  <span class="c1"># find the relevant commit hash</span>
git cherry-pick COMMIT_HASH  <span class="c1"># or git checkout COMMIT_HASH</span>

<span class="c1"># Explore the repo at an earlier commit</span>
git checkout COMMIT_HASH

<span class="c1"># Committed some changes while checking out an old commit?</span>
<span class="c1"># Save the changes to a new branch, then potentially merge them back</span>
git switch -c NEW_BRANCH_NAME
git switch OTHER_BRANCH
git merge NEW_BRANCH_NAME

<span class="c1"># Undo a merge</span>
git reflog  <span class="c1"># find the commit hash before the merge</span>
git reset --hard COMMIT_HASH

<span class="c1"># Or undo to a known point from a remote branch</span>
git reset --hard origin/main

<span class="c1"># Stop tracking a file/directory (remove) but keep it on disk</span>
git rm --cached FILE_OR_DIRECTORY

<span class="c1"># Remove stuff that hasn't been committed yet (interactive mode is nice)</span>
<span class="c1"># Don't forget about -n for a dry run first!</span>
git clean -i

<span class="c1"># Want to undo a change that's already pushed?</span>
<span class="c1"># Add a new commit without rewriting history</span>
git revert COMMIT_HASH

<span class="c1"># See who did what to which file and when</span>
git blame FILE_NAME
</code></pre></div>
<p>Arguably, basic editing doesn’t require stashing, but that can be helpful for a quick modification, like temporarily saving changes to quickly switch to another branch or pull some remote changes without having to commit first.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># git stash --help - "Stash the changes in a dirty working directory away"</span>

<span class="c1"># Maybe you want to keep changes around without committing</span>
<span class="c1"># --include-untracked and --keep-index might be needed!</span>
git stash

<span class="c1"># Stash changes with a clearer name/purpose</span>
git stash save <span class="s2">"SOME MESSAGE"</span>

<span class="c1"># Selectively stash changes (keep specific lines)</span>
git stash save -p

<span class="c1"># List existing stashes</span>
git stash list

<span class="c1"># See the summary of a stash</span>
git stash show

<span class="c1"># See all changes made in a stash (patch)</span>
git stash show -p

<span class="c1"># Apply changes from a stash (TAB completion after `apply` is useful)</span>
git stash apply stash@<span class="se">\{</span>SOME_ID<span class="se">\}</span>

<span class="c1"># Apply and remove the last stash at the same time</span>
git stash pop

<span class="c1"># Remove a single stash</span>
git stash drop stash@<span class="se">\{</span>SOME_ID<span class="se">\}</span>

<span class="c1"># Remove all stashes</span>
git stash clear
</code></pre></div>
<h3 id="rebase"><code>rebase</code></h3>
<p>When working locally with changes that are not yet part of the “permanent” Git history, I like to <code>git rebase</code> very much to clean things up before making a <code>git push</code>, which I like to view as an irrevocable decision. Because I <em>commit small and often</em>, it’s often the case that I end up with a couple of very simple commits which really belong together and should form a bigger commit. While committing a big chunk of code at once avoids having to do any <code>rebase</code> in the first place, it’s also inconvenient to undo a substantial amount of work when you’re experimenting and/or working on an unfamiliar codebase. So in the end, my preference goes towards smaller commits because rebasing is actually fun to do and lets you believe that you came up with brilliant solutions on your first attempt :). That makes for a cleaner Git history for sure, although you will lose some context if you never <code>merge</code>. Meaning, rebasing creates a “linear” history while merging from different branches shows a more complete picture of how a repository really took shape over time. My simple rule of thumb on the matter is this: use <code>rebase</code> to consistently ship meaningful commits (good descriptions, fewer typos, changes chunked logically and precisely, etc.) and use <code>merge</code> to incorporate somewhat larger pieces of history, like a new feature coming from a “feature branch”.</p>
<p>Some common commands I use:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># git rebase --help - "Reapply commits on top of another base tip"</span>

<span class="c1"># Include all commits up to COMMIT_HASH, included</span>
git rebase -i COMMIT_HASH^

<span class="c1"># Include most recent commit only</span>
git rebase -i HEAD^

<span class="c1"># Include 2 most recent commits</span>
git rebase -i HEAD^^

<span class="c1"># Include 3 most recent commits</span>
git rebase -i HEAD~3

<span class="c1"># make BRANCH have the history up to COMMIT_OR_BRANCH, included</span>
git rebase COMMIT_OR_BRANCH BRANCH

<span class="c1"># Used after resolving a conflict</span>
git rebase --continue

<span class="c1"># Reset to where you were before rebasing (move HEAD)</span>
git rebase --abort

<span class="c1"># To update the next actions to be taken on the remaining commits</span>
git rebase --edit-todo
</code></pre></div>
<p>There are a bunch of obscure options just like almost any other Git command in existence, but for that there is help available for each command (such as <code>git rebase --help</code>) from the terminal and the trusty Stack Overflow ;).</p>
<h4 id="sample-workflow">Sample workflow</h4>
<p>In the case of <code>rebase</code>, I enjoy working in this way:</p>
<ol>
<li>Make small commits, maybe 5 to 10 depending on the complexity of the project – usually as long as a series of commits relates to a single topic whenever possible.</li>
<li>Have a peak at the recent history with <code>git log</code> to have a good idea of what just happened.</li>
<li>Realize that the history can be improved. Find the oldest commit hash (not pushed yet!), take note of it and run <code>git rebase -i COMMIT_HASH^</code> (with the “hat” <code>^</code> at the end to reference the parent of that commit).</li>
<li>This opens up a text editor with some explanations on how to proceed (for more on this, have a look at this great article on <a href="https://www.atlassian.com/git/tutorials/rewriting-history">Rewriting history</a>). From there, I usually use <code>r</code> to reword, <code>s</code> to squash, <code>e</code> to edit and sometimes <code>f</code> to fixup, besides also re-ordering commits and from time to time deleting one by removing the line entirely.<ul>
<li><code>r</code> is pretty harmless as it will just show up a new window where the commit message and description can be modified.</li>
<li><code>s</code> is more destructive because commits will be “merged” together! No actual change is lost, but if you squash a ton of commits by accident, it will create huge commits and you might want to undo that with <code>reflog</code> before it’s too late (Atlassian has more to say about this in <a href="https://www.atlassian.com/git/tutorials/rewriting-history/git-reflog">git reflog</a>). The <code>s</code> option is also nice because it keeps all commit messages, so you can edit the final log message as needed without discarding messages.</li>
<li><code>e</code> is used to modify the actual source code being committed, maybe to fix a typo or a minor bug after realizing that the test suite no longer passes (assuming you are not programming blindly without tests :)). This can cause some “conflicts” if you change some lines which are also part of other commits in the selection you made originally, so one has to be careful with that. This can also be used in conjunction with <code>git reset HEAD^</code> to “cancel” the current commit when doing the rebase in order to split it into multiple smaller commits, which can then be “<code>git add</code>ed” back, followed by a <code>git rebase --continue</code> to keep going.</li>
<li><code>f</code> is a quick way of squashing commits together while discarding messages you don’t need. So maybe the last commit has a proper description (“Implemented something…”) and a few commits before that one were just temporary “savepoints” with non-sensical commit messages (things like “testing…” or “new commit”) that were done until you reached a final solution that’s worth committing. So of course in that case the history would be pretty ugly and hard to understand if all commits were kept intact, so these can be added to the latest change which encompasses a working solution as a whole. Just as well, maybe that last commit didn’t have a complete message just yet, so it could also be rewritten with the <code>r</code> prefix.</li>
</ul>
</li>
<li>When individual commits make the <code>rebase</code> stop temporarily (such as when a commit is to be edited with <code>e</code> and waits for changes to be made), then it’s time to do <code>git rebase --continue</code> once the necessary changes are made.</li>
<li>If something goes wrong along the way, there’s always a way back to the place you were right before rebasing with <code>git rebase --abort</code>. It’s worth noting that Git itself will output some useful messages all along so it’s not necessary to remember all of this: it quickly becomes intuitive.</li>
</ol>
<p>Now, <code>rebase</code> covers the cases where local changes are done in isolation, but for something more imposing or simply to keep track of what happened in which branch, <code>merge</code> remains a powerful ally.</p>
<h3 id="merge"><code>merge</code></h3>
<p>So I don’t use <code>merge</code> as much, especially when working solo, but it is undeniably useful and could replace the <code>rebase</code> workflow completely (it might also be demanded by your colleagues anyways!). There’s nothing like a good <code>rebase</code> session to keep things tidy, but a flat history line won’t look attractive on a huge project with many contributors, so <code>merge</code> is there to deal with cleanly integrating changes from different places into some <code>main</code> branch (it could be named differently based on the team workflow of course and there might be more than one “main” branch too). What makes <code>merge</code> incredibly cool is the fact that branches in Git are “cheap”, meaning they can be created very quickly and efficiently, they don’t take space at all, you could have dozens of branches or more and you can incorporate changes from one branch to another with a simple <code>git merge</code>, which is nicer than using <code>git cherry-pick</code> to get multiple commits from one branch into another (for one or two commits though, <code>cherry-pick</code> is handy).</p>
<p>I see <code>rebase</code> more like a cleaning step while <code>merge</code> really shines when dealing with multiple commits between different branches. Even on a simple project when working alone, it has its uses! For example, let’s say we have a repository full of small programming challenges (maybe from <a href="https://www.hackerrank.com/">HackerRank</a> or <a href="https://leetcode.com/">LeetCode</a>). We might get stuck on a tricky problem and wouldn’t want to commit an unfinished solution. Also, maybe we would get fed up eventually working on a given challenge and would rather try our luck with a different one. Well, we can always leave changes uncommitted (not very safe as these might be lost!), but that can cause confusion and you might inadvertently end up committing files that have nothing to do with the latest challenge – effectively committing at the same time your unfinished challenge with the one you just completed. There’s always the possibility to <code>git stash</code> individual files to keep them somewhere, but I find working with stashes to be a bit more cumbersome than branches and you might literally forget that you have changes stashed. If you do that a few times, you might not even know which stash is what if you didn’t give them a good name…</p>
<p>Some common commands I use:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># git merge --help - "Join two or more development histories together"</span>

<span class="c1"># Get commits from BRANCH_NAME into the currently checked one</span>
git merge BRANCH_NAME

<span class="c1"># Merge one branch into another</span>
git merge SOURCE_BRANCH_NAME DESTINATION_BRANCH_NAME

<span class="c1"># Get out of conflicts...</span>
git merge --abort

<span class="c1"># Continue after resolving conflicts</span>
git merge --continue

<span class="c1"># Keep the "merge commit" in the history</span>
git merge --no-ff BRANCH_NAME

<span class="c1"># Set a custom commit message for a "merge commit"</span>
git merge -m <span class="s2">"MESSAGE"</span> BRANCH
</code></pre></div>
<p><sub>Tip: The command <code>git merge --help</code> describes some nice examples about the whole process of conflict resolution.</sub></p>
<h4 id="sample-workflow-kinda">Sample workflow (kinda)</h4>
<p>So, instead of risking losing changes like this, creating a new branch with <code>git switch -c BRANCH_NAME</code> and working from there is much easier to confine changes to a specific matter, which we can see like a “feature” that can later be added to the main “trunk”. We can commit unfinished business, switch to a different branch, come back to it later, <code>git reset</code> any old commit to “revert” the history and keep working from a clean state. In any case, there’s always <code>rebase</code> to avoid committing useless stuff, so there’s really no reason to avoid branches.</p>
<p>The <code>merge</code> command will be involved when changes from a “feature branch” (or whatever other purpose you give a branch) are merged into the main branch with <code>git merge BRANCH_NAME</code>. When there are no “merge conflicts” (such as when you work on a totally new file that won’t clash with prior work), this is a seamless workflow where you can just <code>merge</code> as if changes were made in the branch you are on in the first place. There are other instances where bigger changes can be merged successfully in the same way, but it’s interesting to keep track of how you worked on a project, so in this scenario you can always use <code>git merge --no-ff BRANCH_NAME</code> (<code>--no-ff</code> meaning “<em>no fast-forward</em>“) to keep a “<em>merge commit</em>“, which is strictly speaking not needed (because there’s no conflict resolution in the case of a “successful” merge) but can be a helpful reference point when you look back at your Git history two years from now to understand how you worked on something, piecing things together bit by bit.</p>
<p>There’s also an indisputable advantage conferred by the use of branches, which is: <em>you can have plenty of them</em>! So while <code>rebase</code> is nice to use on a given branch, in no way can working on multiple things at once in a single branch and then rebasing all that effort be as straightforward as creating new branches for every new topic that’s being started and then merging it back into a single place of truth. Juggling different concerns in a single branch where you have a few things going on (maybe 2-3 partially implemented features) is far from being a cozy environment and rebasing that kind of work where commits are not even related to each other can become a nightmare in a short amount of time.</p>
<h2 id="managing-branches">Managing branches</h2>
<p>So with all that was written earlier, I believe a point was made in favour of using branches. Because branches are such a wonderful feature of Git, here are some more commands I rely on (surprisingly, there aren’t that many for <code>git branch</code>!):</p>
<div class="highlight"><pre><span></span><code><span class="c1"># git branch --help - "List, create, or delete branches"</span>

<span class="c1"># List local branches</span>
git branch

<span class="c1"># List only remote branches</span>
git branch -r

<span class="c1"># List all branches</span>
git branch -a

<span class="c1"># Delete a branch</span>
git branch -d BRANCH_NAME

<span class="c1"># Delete a branch forcefully</span>
git branch -D BRANCH_NAME

<span class="c1"># Delete a remote branch (doesn't matter if the local branch was deleted)</span>
git push origin --delete REMOTE_NAME/BRANCH_NAME

<span class="c1"># Rename a branch</span>
git branch -m BRANCH_NAME NEW_BRANCH_NAME

<span class="c1"># Track a specific remote branch</span>
git branch BRANCH_NAME -u UPSTREAM_NAME

<span class="c1"># See which branches have been merged or not</span>
git branch --merged
git branch --no-merged

<span class="c1"># Switch to the branch last checked out</span>
git checkout -

<span class="c1"># Compare changes between branches</span>
git diff BRANCH_ONE..BRANCH_TWO

<span class="c1"># Compare a file across branches</span>
git diff BRANCH_ONE:FILE_NAME BRANCH_TWO:FILE_NAME

<span class="c1"># See a file from another branch</span>
git show BRANCH_NAME:FILE_NAME

<span class="c1"># Get a file from a different branch</span>
git restore --source OTHER_BRANCH_NAME path/to/file.txt
</code></pre></div>
<hr/>
<h1 id="aliases">Aliases</h1>
<p>While I believe it’s good practice to type complete commands to remember them better, I also tend to use Git aliases for two reasons: because some deeply ingrained concepts don’t need as much reinforcement and because some obscure operations can be made so much more accessible with a pertinent mnemonic device.</p>
<p>Some commands like <code>add</code> just become unforgettable over time, while others – e.g., <code>unstage</code> – just don’t exist yet. Without further ado, here is a list of the aliases I currently rely on when using Git, which comes straight from <code>~/.gitconfig</code>.</p>
<p>For instance, instead of typing <code>git add</code>, by setting the alias <code>a = add</code> (see below), it is now possible to type <code>git a</code> to get the same result.</p>
<div class="highlight"><pre><span></span><code><span class="k">[alias]</span><span class="w"></span>
<span class="w">    </span><span class="na">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">add</span><span class="w"></span>
<span class="w">    </span><span class="na">br</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">branch</span><span class="w"></span>
<span class="w">    </span><span class="na">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">commit</span><span class="w"></span>
<span class="w">    </span><span class="na">ca</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">commit --amend</span><span class="w"></span>
<span class="w">    </span><span class="na">can</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">commit --amend --no-edit</span><span class="w"></span>
<span class="w">    </span><span class="na">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">checkout</span><span class="w"></span>
<span class="w">    </span><span class="na">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">diff</span><span class="w"></span>
<span class="w">    </span><span class="na">ds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">diff --staged</span><span class="w"></span>
<span class="w">    </span><span class="na">po</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">push origin</span><span class="w"></span>
<span class="w">    </span><span class="na">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">push --set-upstream origin main</span><span class="w"></span>
<span class="w">    </span><span class="na">rc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">rebase --continue</span><span class="w"></span>
<span class="w">    </span><span class="na">ri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">rebase -i</span><span class="w"></span>
<span class="w">    </span><span class="na">rl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">reflog</span><span class="w"></span>
<span class="w">    </span><span class="na">sh</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">show</span><span class="w"></span>
<span class="w">    </span><span class="na">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">status --short</span><span class="w"></span>
<span class="w">    </span><span class="na">st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">status</span><span class="w"></span>
<span class="w">    </span><span class="na">sw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">switch</span><span class="w"></span>
<span class="w">    </span><span class="na">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">tag</span><span class="w"></span>
<span class="w">    </span><span class="na">unstage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">reset HEAD --</span><span class="w"></span>

<span class="w">    </span><span class="c1">; show changes since last commit</span><span class="w"></span>
<span class="w">    </span><span class="na">difflast</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">diff --cached HEAD^</span><span class="w"></span>

<span class="w">    </span><span class="c1">; show last commit</span><span class="w"></span>
<span class="w">    </span><span class="na">last</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">l -1 HEAD</span><span class="w"></span>

<span class="w">    </span><span class="c1">; undo last commit</span><span class="w"></span>
<span class="w">    </span><span class="na">undo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"!f() { git reset --hard $(git rev-parse \</span><span class="w"></span>
<span class="na">--abbrev-ref HEAD)@{${1-1}}; }; f"</span><span class="w"></span>

<span class="w">    </span><span class="na">l</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">log</span><span class="w"></span>

<span class="w">    </span><span class="c1">; short log</span><span class="w"></span>
<span class="w">    </span><span class="na">sl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">shortlog</span><span class="w"></span>

<span class="w">    </span><span class="c1">; log graph</span><span class="w"></span>
<span class="w">    </span><span class="na">lg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">l --color --graph --pretty=format:'%Cred%h%Creset \</span><span class="w"></span>
<span class="na">-%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit</span><span class="w"></span>

<span class="w">    </span><span class="c1">; log name</span><span class="w"></span>
<span class="w">    </span><span class="na">ln</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">l --name-only</span><span class="w"></span>

<span class="w">    </span><span class="c1">; log decorate all</span><span class="w"></span>
<span class="w">    </span><span class="na">logda</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">l --oneline --decorate --graph --all</span><span class="w"></span>

<span class="w">    </span><span class="c1">; log stat</span><span class="w"></span>
<span class="w">    </span><span class="na">ls</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">l --stat</span><span class="w"></span>

<span class="w">    </span><span class="c1">; log pretty</span><span class="w"></span>
<span class="w">    </span><span class="na">lp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">log --pretty='%C(yellow)%h %C(cyan)%ad %Cblue%aN%C(auto)%d \</span><span class="w"></span>
<span class="na">%Creset%s' --date</span><span class="o">=</span><span class="s">relative --date-order --graph</span><span class="w"></span>
</code></pre></div>
<p>At some point, using Git aliases will become second nature, but until then, it can be useful to have a separate terminal alias to list them all (or maybe you forgot the command an alias is using under the hood!). For this, you can set the following alias in a file like <code>~/.bash_aliases</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nb">alias</span> <span class="nv">gitaliases</span><span class="o">=</span><span class="s1">'git config -l | grep alias | sed "s/^alias\.//g"'</span>

<span class="c1"># For a fancier version displaying aliases in two columns neatly aligned:</span>
<span class="nb">alias</span> <span class="nv">gitaliases</span><span class="o">=</span><span class="s1">'git config -l | grep alias | sed "s/^alias\.//g" \</span>
<span class="s1">  | sed "s/=/Ω/" | column -t -s "Ω"'</span>
</code></pre></div>
<p>That command will look in the Git configuration, extract all the lines containing “alias” and remove the “<code>alias.</code>” prefix so that you can see all aliases in the form <code>a=add</code> in the case of <code>git add</code> being aliased to <code>git a</code>. If you have a ton of aliases (which is probably a red flag…), finding a specific one is just a matter of doing <code>gitaliases | grep keyword</code>, of course replacing <code>keyword</code> with something else ;).</p>
<p><sub>Tip: One can go further to shorten Git commands by shortening <code>git</code> itself! You can put a line such as <code>alias g='git'</code> in <code>~/.bash_aliases</code> for instance. Now, <code>git add</code> can become <code>g a</code>. Pretty efficient! For more on Bash aliases, you might like to read <a href="https://www.sglavoie.com/posts/2018/12/08/aliases-also-known-as-terminal-users-best-friends/">Aliases: Also Known as Terminal User’s Best Friends</a>.</sub></p>
<p>This section is really just meant to give a taste of the possibilities that aliases offer. To learn about actual commands and their usage, there is nothing like the <a href="https://git-scm.com/docs">official Git docs</a> (there is a <a href="https://git-scm.com/book/en/v2/Git-Basics-Git-Aliases">short section on Git aliases</a> too).</p>
<hr/>
<h1 id="custom-git-sub-commands">Custom Git sub-commands</h1>
<p>There might be less of a need for custom-made commands to be created when so much can be done with Git alone, but there are cases where these custom additions can shine! As a concrete example, I have been updating this website with what I call my “<a href="https://www.sglavoie.com/learning-progress.html">learning progress</a>” but committing always the same kind of stuff gets boring, so I have created a simple Bash script to automate the process of publishing and committing (the content of the script is of no importance, it is only there to demonstrate that commands other than Git can be called too):</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1"># Act as custom command `git addlearning` and perform all that follows</span>
<span class="c1"># Assumes that `pelican` command is available</span>
<span class="nb">cd</span> ~/dev/sglavoie/sglavoie.github.io-source
git add .
git commit -m <span class="s2">"Add learning progress"</span>
git push origin main
pelican

cp -r <span class="se">\</span>
    ~/dev/sglavoie/sglavoie.github.io-source/output/* <span class="se">\</span>
    ~/dev/sglavoie/sglavoie.github.io/ <span class="o">&amp;&amp;</span> <span class="se">\</span>
    <span class="nb">cd</span> ~/dev/sglavoie/sglavoie.github.io <span class="o">&amp;&amp;</span> git add .
git commit -m <span class="s2">"Add learning progress"</span>
git push origin main
<span class="nb">cd</span> ~/dev/sglavoie/sglavoie.github.io-source
</code></pre></div>
<p>It is noteworthy to know that any kind of executable programs can be used, such as Ruby, Python and so on, as long as they are made available in the <code>$PATH</code>. This will be somewhat similar on most <span class="caps">UNIX</span>-based system where the <code>PATH</code> variable needs to be exported (usually in a file like <code>.bashrc</code> or <code>.zshrc</code>), for instance:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># $HOME refers to a place like /home/user on Linux or /Users/user on macOS</span>
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/dev/git-scripts:</span><span class="nv">$PATH</span><span class="s2">"</span>
</code></pre></div>
<p>On Windows, there are <a href="https://superuser.com/a/143121/1032549">separate instructions to be followed</a>. With that done, there’s also a need to make sure the file is executable, which can be done on the command-line with <code>chmod +x FILENAME_HERE</code>.</p>
<hr/>
<h1 id="some-lesser-known-yet-incredibly-useful-commands">Some lesser-known yet incredibly useful commands</h1>
<h2 id="git-bisect"><code>git bisect</code></h2>
<p>I try to commit working code as often as possible, but sometimes there are just bugs that have flown by and took residence in the codebase a long time ago. In this scenario, there is one tool in the Git tool belt for that very specific use case: <code>git bisect</code>. Working with the <a href="https://en.wikipedia.org/wiki/Binary_search_algorithm">binary search algorithm</a>, <code>git bisect</code> searches in a range of commits and by identifying “good” and “bad” commits, will pinpoint exactly where the issue came from in the minimum number of iterations possible. You’ll need sub-commands like <code>start</code>, <code>bad</code>, <code>good</code> and <code>reset</code> at the very least and for more advanced use cases where automatically running a script for each commit is needed, <code>run</code> will do the job. See <a href="https://git-scm.com/docs/git-bisect">the docs on <code>git bisect</code></a> for more.</p>
<h2 id="git-rerere"><code>git rerere</code></h2>
<p>I almost never use this in practice, but it <em>can</em> be very useful when working in a large project where similar merge conflicts are likely to occur over time. Git can be “taught” to automatically solve merge conflicts! There are some <a href="https://git-scm.com/docs/git-rerere">official docs on this</a>, but I’ve found this <a href="https://stackoverflow.com/a/49501436/8787680">Stack Overflow answer</a> to be a more approachable read.</p>
<hr/>
<h1 id="a-word-on-the-configuration-file">A word on the configuration file</h1>
<p>At the very minimum, setting a name and email will be necessary to use Git:</p>
<div class="highlight"><pre><span></span><code>git config --global user.name <span class="s2">"Your Name"</span>
git config --global user.email <span class="s2">"email@example.com"</span>
</code></pre></div>
<p>Seeing the current configuration can come in handy, too:</p>
<div class="highlight"><pre><span></span><code>git config --global --list
</code></pre></div>
<p>And in the case of this particular command, <code>git config</code>, it can’t be emphasized enough how useful searching through the help page in the terminal will be: <code>git config --help</code>.</p>
<p>I’d be remiss if I didn’t include an example of my own configuration at this point, so here it goes! To make it so that it is convenient to commit this configuration file publicly, some private settings can be “included” from other paths inside the <code>[include]</code> block. For clarity, I’ll show what that file looks like below the main configuration file.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># This is the content of ~/.gitconfig</span>

<span class="o">[</span>include<span class="o">]</span>
    <span class="p">;</span> This file can add more information to extend the main configuration.
    <span class="p">;</span> For example, when inside a directory that match a certain pattern,
    <span class="p">;</span> we can tell Git to change our name or email <span class="o">(</span>e.g., when committing
    <span class="p">;</span> with different credentials from a work email<span class="o">)</span>
    <span class="nv">path</span> <span class="o">=</span> ~/Dropbox/.custom/.gitconfig
<span class="o">[</span>color<span class="o">]</span>
    <span class="nv">branch</span> <span class="o">=</span> auto
    <span class="nv">diff</span> <span class="o">=</span> auto
    <span class="nv">grep</span> <span class="o">=</span> auto
    <span class="nv">interactive</span> <span class="o">=</span> auto
    <span class="nv">status</span> <span class="o">=</span> auto
    <span class="nv">ui</span> <span class="o">=</span> <span class="nb">true</span>
<span class="o">[</span>alias<span class="o">]</span>
    <span class="c1"># cut out for brevity, see the section on Aliases</span>
<span class="o">[</span>core<span class="o">]</span>
    <span class="nv">editor</span> <span class="o">=</span> nvim
    <span class="nv">excludesfile</span> <span class="o">=</span> ~/.gitignore
    <span class="nv">pager</span> <span class="o">=</span> diff-so-fancy <span class="p">|</span> less --tabs<span class="o">=</span><span class="m">4</span> -RFX
<span class="o">[</span>commit<span class="o">]</span>
    <span class="nv">gpgsign</span> <span class="o">=</span> <span class="nb">true</span>
    <span class="nv">template</span> <span class="o">=</span> ~/.gitmessage
<span class="o">[</span>mergetool <span class="s2">"nvim"</span><span class="o">]</span>
    <span class="nv">cmd</span> <span class="o">=</span> nvim <span class="nv">$MERGED</span>
<span class="o">[</span>difftool <span class="s2">"vscode"</span><span class="o">]</span>
    <span class="nv">cmd</span> <span class="o">=</span> code --wait --diff <span class="nv">$LOCAL</span> <span class="nv">$REMOTE</span>
<span class="o">[</span>mergetool<span class="o">]</span>
  <span class="nv">prompt</span> <span class="o">=</span> <span class="nb">false</span>
<span class="o">[</span>color <span class="s2">"diff-highlight"</span><span class="o">]</span>
    <span class="nv">oldNormal</span> <span class="o">=</span> red bold
    <span class="nv">oldHighlight</span> <span class="o">=</span> red bold <span class="m">52</span>
    <span class="nv">newNormal</span> <span class="o">=</span> green bold
    <span class="nv">newHighlight</span> <span class="o">=</span> green bold <span class="m">22</span>
<span class="o">[</span>color <span class="s2">"diff"</span><span class="o">]</span>
    <span class="nv">commit</span> <span class="o">=</span> yellow bold
    <span class="nv">frag</span> <span class="o">=</span> magenta bold
    <span class="nv">meta</span> <span class="o">=</span> <span class="m">11</span>
    <span class="nv">new</span> <span class="o">=</span> green bold
    <span class="nv">old</span> <span class="o">=</span> red bold
    <span class="nv">whitespace</span> <span class="o">=</span> red reverse
<span class="o">[</span>push<span class="o">]</span>
    <span class="nv">recurseSubmodules</span> <span class="o">=</span> on-demand
<span class="o">[</span>gpg<span class="o">]</span>
    <span class="nv">program</span> <span class="o">=</span> gpg2
<span class="o">[</span>filter <span class="s2">"lfs"</span><span class="o">]</span>
    <span class="nv">clean</span> <span class="o">=</span> git-lfs clean -- %f
    <span class="nv">smudge</span> <span class="o">=</span> git-lfs smudge --skip -- %f
    <span class="nv">process</span> <span class="o">=</span> git-lfs filter-process --skip
    <span class="nv">required</span> <span class="o">=</span> <span class="nb">true</span>
<span class="o">[</span>pull<span class="o">]</span>
    <span class="nv">rebase</span> <span class="o">=</span> <span class="nb">false</span>
<span class="o">[</span>credential<span class="o">]</span>
    <span class="nv">helper</span> <span class="o">=</span> store
<span class="o">[</span>init<span class="o">]</span>
    <span class="nv">defaultBranch</span> <span class="o">=</span> main
    <span class="nv">templateDir</span> <span class="o">=</span> ~/.git-templates
<span class="o">[</span>diff<span class="o">]</span>
    <span class="nv">tool</span> <span class="o">=</span> vscode
</code></pre></div>
<p>The file being referenced/included here, <code>~/Dropbox/.custom/.gitconfig</code>, looks like this:</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>user<span class="o">]</span>
  <span class="nv">email</span> <span class="o">=</span> email@example.com
  <span class="nv">name</span> <span class="o">=</span> Your Name
  <span class="nv">signingkey</span> <span class="o">=</span> 798034F11B2ADED2
<span class="o">[</span>commit<span class="o">]</span>
  <span class="nv">gpgsign</span> <span class="o">=</span> <span class="nb">true</span>

<span class="c1"># The following block could be used to update credentials when committing</span>
<span class="c1"># depending on what directory is opened. So, if you work for COMPANY_NAME</span>
<span class="c1"># and the pattern 'COMPANY_NAME' appears in the current working directory,</span>
<span class="c1"># then Git can be smart and update your configuration by including</span>
<span class="c1"># something like the previous block so that the original email, name,</span>
<span class="c1"># signingkey and possibly other config options are overwritten.</span>

<span class="p">;</span> when working at COMPANY_NAME
<span class="o">[</span>includeIf <span class="s2">"gitdir:**/COMPANY_NAME/**/.git"</span><span class="o">]</span>
  <span class="nv">path</span> <span class="o">=</span> ~/Dropbox/.custom/.gitconfig-COMPANY_NAME
</code></pre></div>
<p>So this section briefly points out how custom tools like <code>diff-so-fancy</code> can be used, how diff output colors can be customized, how specific code editors like Neovim and <span class="caps">VS</span> Code can be opened when committing or dealing with merge conflicts and generally just how the file is meant to be structured.</p>
<p>A lot more on configuring Git can be found in <a href="https://git-scm.com/docs/git-config">the official documentation on <code>git config</code></a>.</p>
<hr/>
<h1 id="conclusion">Conclusion</h1>
<p>Being exhaustive when it comes to using Git is definitely not something this article strived to achieve: Git is such a complex piece of software that has been evolving since 2005, when it became a necessity to deal with incoming patches sent to Linus Torvalds to make Linux the fantastic project it has become! There is much, much more to learn, but hopefully this post gives you a slightly different perspective and points the way to a well-rounded journey with the list of references below. Git good!</p>
<h2 id="more-resources-and-references">More resources and references</h2>
<h3 id="websites">Websites</h3>
<ul>
<li><a href="https://www.conventionalcommits.org/">Conventional Commits</a> - <em>“A specification for adding human and machine readable meaning to commit messages.”</em></li>
<li><a href="http://ndpsoftware.com/git-cheatsheet.html">Git Cheatsheet</a> - <em>“Interactive Git Cheatsheet, categorizing commands based on what they affect.”</em></li>
<li><a href="http://gitimmersion.com">Git Immersion</a> - <em>“A guided tour that walks through the fundamentals of Git, inspired by the premise that to know a thing is to do it.”</em></li>
<li><a href="https://githowto.com">GitHowTo</a> - <em>“Git How To is a guided tour that walks through the fundamentals of Git, inspired by the premise that to know a thing is to do it.”</em></li>
<li><a href="https://lab.github.com/">GitHub Learning Lab</a> - <em>“With GitHub Learning Lab, grow your skills by completing fun, realistic projects. Get advice and helpful feedback from our friendly Learning Lab bot.”</em></li>
<li><a href="https://learngitbranching.js.org">Learn Git Branching</a> - <em>“An interactive Git visualization tool to educate and challenge!”</em></li>
<li><a href="https://docs.microsoft.com/en-us/learn/browse/?terms=Github">Microsoft Learn GitHub modules</a> - <em>“Learn new skills and discover the power of Microsoft products with step-by-step guidance.”</em></li>
<li><a href="https://git-scm.com/book/en/v2">Pro Git Book</a> - <em>“The entire Pro Git book, written by Scott Chacon and Ben Straub and published by Apress, is available here. All content is licensed under the Creative Commons Attribution Non Commercial Share Alike 3.0 license. Print versions of the book are available on Amazon.com.”</em></li>
<li><a href="https://egghead.io/courses/productive-git-for-developers">Productive Git for Developers</a> - <em>“You will walk through a series of scenarios which you’ll most commonly encounter in your daily work life as a developer.”</em>.</li>
<li><a href="https://www.dataschool.io/how-to-contribute-on-github/">Step-by-step guide to contributing on GitHub</a> - <em>“Have you thought about contributing to an open source project, but you’re too confused (or intimidated) by the process to even try? I’ve been there too!”</em></li>
<li><a href="http://try.github.io">Try GitHub</a> - <em>Resources to learn Git: Handbook, cheat sheets, git commands in the browser, etc.</em></li>
</ul>
<h3 id="youtube">YouTube</h3>
<ul>
<li><a href="https://www.youtube.com/watch?v=eulnSXkhE7I"><span class="caps">CS50</span> Beyond 2019</a> - <span class="caps">CS50</span></li>
<li><a href="https://www.youtube.com/watch?v=SWYqp7iY_Tc">Git <span class="amp">&amp;</span> GitHub Crash Course For Beginners</a> - Traversy Media</li>
<li><a href="https://www.youtube.com/watch?v=RGOj5yH7evk">Git and GitHub for Beginners - Crash Course</a> - freeCodeCamp.org</li>
<li><a href="https://www.youtube.com/watch?v=HVsySz-h9r4&amp;list=PL-osiE80TeTuRUfjRe54Eea17-YfnOOAx">Git Tutorial for Beginners: Command-Line Fundamentals</a> (playlist) - Corey Schafer</li>
<li><a href="https://www.youtube.com/watch?v=x0EYpi38Yp4">GitHub Basics Tutorial - How to Use GitHub</a> - freeCodeCamp.org</li>
<li><a href="https://missing.csail.mit.edu/2020/version-control"><span class="caps">MIT</span> Missing semester (Version Control) - Git data model</a> - <span class="caps">MIT</span></li>
<li><a href="https://www.youtube.com/watch?v=i76ts_0UryI">The Ultimate Git <span class="amp">&amp;</span> GitHub Crash Course - Learn to Version Control for Beginners</a> - Laith Harb</li>
</ul>
<h3 id="online-courses">Online courses</h3>
<ul>
<li><a href="https://www.linkedin.com/learning/git-essential-training">Git Essential Training</a> (<em>free with free trial</em>) - LinkedIn Learning. <em>“Using a step-by-step approach, author Kevin Skoglund presents the commands that enable efficient code management and reveals the fundamental concepts behind version control systems and the Git architecture. Discover how to track changes to files in a repository, review previous edits, and compare versions of a file; create branches to test new ideas without altering the main project; and merge those changes into the project if they work out.</em>”</li>
<li><a href="https://www.udemy.com/git-started-with-github/">Git Started with GitHub</a> - Udacity. <em>“This course is designed to jump right into showing how Git and GitHub work together, focusing on the Git basic workflow. Students can expect to learn the minimum needed to start using Git in about 30 minutes.”</em></li>
<li><a href="https://eu.udacity.com/course/how-to-use-git-and-github--ud775">How to Use Git and GitHub</a> - Udacity. <em>“This course, built with input from GitHub, will introduce the basics of using version control by focusing on a particular version control system called Git and a collaboration platform called GitHub.”</em></li>
<li><a href="https://www.udemy.com/short-and-sweet-get-started-with-git-and-github-right-now/">Short and Sweet: Get Started with Git and GitHub Right Now</a> - Udemy. <em>“In just 30 minutes, this “Short and Sweet” course covers the essential ideas you need to move forward, without a lot of filler. At the end of the course, you’ll be able to set up a GitHub account, install Git, create and configure new Git and GitHub repositories, create a change history for your software projects, and publish your software projects to GitHub.”</em></li>
<li><a href="https://www.udemy.com/the-ultimate-git-5-day-challenge/">The Ultimate <span class="caps">GIT</span> 5-day Challenge</a> - Udacity. <em>“A quick way to determine if working with <span class="caps">GIT</span> is something you want to learn more about. This course takes us step-by-step through some basic <span class="caps">GIT</span> operations. The course will not dive too deep, and takes small steps on each of five days. As we continue through the course, we learn a basic, single-person workflow that could allow anyone to store files at GitHub or BitBucket.”</em></li>
<li><a href="https://www.coursera.org/learn/version-control-with-git">Version Control with Git</a> - Coursera. <em>“In this course, you will not learn everything there is to know about Git, but you will build a strong conceptual understanding of the technology, and afterward will be able to confidently dig deeper on any topic that interests you.”</em></li>
<li><a href="https://www.coursera.org/learn/introduction-git-github">Introduction to Git and Github</a> - Coursera. Offered by Google. <em>“In this course, you’ll learn how to keep track of the different versions of your code and configuration files using a popular version control system (<span class="caps">VCS</span>) called Git. We’ll also go through how to setup an account with a service called GitHub so that you can create your very own remote repositories to store your code and configuration.”</em></li>
</ul>
<h3 id="references-for-this-article">References for this article</h3>
<ul>
<li><a href="https://git-scm.com/docs/git-rerere"><code>git rerere</code></a> - git-scm.</li>
<li><a href="https://www.loginradius.com/blog/engineering/git-commands/">35+ Git Commands List Every Programmer Should Know</a> - loginradius.</li>
<li><a href="https://en.wikipedia.org/wiki/Binary_search_algorithm">Binary search algorithm</a> - Wikipedia.</li>
<li><a href="https://docs.gitignore.io/install/command-line">Gitignore</a> - Toptal.</li>
<li><a href="https://www.hackerrank.com/">HackerRank</a>.</li>
<li><a href="https://leetcode.com/">LeetCode</a>).</li>
<li><a href="https://www.atlassian.com/git/tutorials/rewriting-history">Rewriting history</a> - Atlassian.</li>
<li><a href="https://about.gitlab.com/blog/2021/03/10/new-git-default-branch-name">The new Git default branch name</a> - GitLab.</li>
<li><a href="https://stackoverflow.com/a/49501436/8787680">What is git-rerere and how does it work?</a> - Stack Overflow.</li>
</ul>
  </div>

  <div id="article_comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_identifier = "posts/2022/04/03/git-the-gist-of-it-common-commands-for-a-working-workflow/";
      (function () {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//sglavoie.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
  </div>

</article>
  
            <div id="ending_message">
                <p>
                    &copy; Sébastien Lavoie. Built with
                    <a
                        href="https://www.python.org/"
                        target="_blank"
                        rel="noopener noreferrer"
                        >Python</a
                    >
                    using
                    <a
                        href="http://getpelican.com"
                        target="_blank"
                        rel="noopener noreferrer"
                        >Pelican</a
                    >
                    <span class="badge">v4.7.2</span>. Theme adapted from Giulio Fidente on
                    <a
                        href="https://github.com/gfidente/pelican-svbhack"
                        target="_blank"
                        rel="noopener noreferrer"
                        >GitHub</a
                    >.
                    <a href="https://www.sglavoie.com/feeds/sglavoie.rss.xml">RSS feed</a>.
                </p>
            </div>
        </main>
    </body>
</html>