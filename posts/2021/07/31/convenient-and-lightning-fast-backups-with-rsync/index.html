<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link
      rel="preload"
      href="/theme/css/fonts/lato-regular.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/theme/css/fonts/lato-bold.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/theme/css/fonts/ubuntu-regular-webfont.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/theme/css/fonts/ubuntu-bold-webfont.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/theme/css/fonts/ubuntu-regular-italic-webfont.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/theme/css/fonts/ubuntu-bold-italic-webfont.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/theme/css/fonts/SourceCodePro-Regular.ttf.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/theme/css/fonts/SourceCodePro-Bold.ttf.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/theme/css/fonts/SourceCodePro-It.ttf.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/theme/css/fonts/SourceCodePro-BoldIt.ttf.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link rel="preload" as="style" href="/theme/css/main.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="/theme/css/styles.css"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Sébastien Lavoie" />
    <meta
      name="description"
      content="Posts and writings by Sébastien Lavoie. Customization setups and articles on productivity for developers who like minimalism."
    />
    <meta name="title" property="og:title" content="sglavoie.com" />
    <meta property="og:type" content="Website" />
    <meta
      name="image"
      property="og:image"
      content="../../../../../theme/images/logo_1200x627.png"
    />

    <link
      href="https://www.sglavoie.com/feeds/sglavoie.atom.xml"
      type="application/atom+xml"
      rel="alternate"
      title="sglavoie.com Atom"
    />
     <link
      href="https://www.sglavoie.com/feeds/sglavoie.rss.xml"
      type="application/rss+xml"
      rel="alternate"
      title="sglavoie.com RSS"
    />

    <!-- Favicon -->
    <link
      rel="apple-touch-icon"
      href="/theme/favicon/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/theme/favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/theme/favicon/favicon-16x16.png"
    />
    <link rel="manifest" href="/theme/favicon/site.webmanifest" />
    <link
      rel="mask-icon"
      href="/theme/favicon/safari-pinned-tab.svg"
      color="#5bbad5"
    />
    <link rel="shortcut icon" href="/theme/favicon/favicon.ico" />
    <meta name="msapplication-TileColor" content="#2d89ef" />
    <meta
      name="msapplication-TileImage"
      content="/theme/favicon/mstile-144x144.png"
    />
    <meta
      name="msapplication-config"
      content="/theme/favicon/browserconfig.xml"
    />
    <meta name="theme-color" content="#232323" />
    <meta
      name="msapplication-config"
      content="/theme/favicon/browserconfig.xml"
    />
    <meta name="theme-color" content="#232323" />

<meta name="keywords" content="backup, python, rsync, script, terminal" />

<!-- Open graph for social networks -->
<meta name="og:title" property="og:title" content="Cloud storage became affordable a long time ago while internet connection speeds have increased dramatically over the years. Yet, there is still a strong case to be made for daily backups of a whole system and for this purpose, there are few options to contend with rsync." />
 
    <title>sglavoie.com &ndash; Convenient and lightning fast backups with&nbsp;rsync</title>

    <!-- Enable tracking of web traffic -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(["_setAccount", "UA-150998392-1"]);
  _gaq.push(["_trackPageview"]);
  (function () {
    var ga = document.createElement("script");
    ga.type = "text/javascript";
    ga.async = true;
    ga.src =
      ("https:" == document.location.protocol ? "https://ssl" : "http://www") +
      ".google-analytics.com/ga.js";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(ga, s);
  })();
</script>
   </head>

  <body>
    <div id="pageContainer">
      <aside id="sidebar">
        <a id="websiteLogo" href="../../../../..">
          <svg
            aria-labelledby="sglavoie.com's logo"
            class="svgLogo"
            width="100px"
            height="100px"
            version="1.1"
            viewBox="0 0 24.348095 24.347754"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:cc="http://creativecommons.org/ns#"
            xmlns:dc="http://purl.org/dc/elements/1.1/"
            xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
          >
            <title id="svgTitle">sglavoie.com's logo</title>
            <desc id="svgDesc">The website's logo.</desc>
            <metadata>
              <rdf:RDF>
                <cc:Work rdf:about="">
                  <dc:format>image/svg+xml</dc:format>
                  <dc:type
                    rdf:resource="http://purl.org/dc/dcmitype/StillImage"
                  />
                  <dc:title />
                </cc:Work>
              </rdf:RDF>
            </metadata>
            <g transform="translate(81.397 -84.454)">
              <path d="m-57.049 105.9v2.9029h-11.173v-2.9029z" fill="#c0c0c0">
                <animate
                  attributeName="fill"
                  values="white;grey;white"
                  dur="2s"
                  repeatCount="indefinite"
                />
              </path>
              <path
                d="m-72.272 98.481-9.1246 5.7598v-3.548l5.8658-3.5019v-0.09215l-5.8658-3.5019v-3.548l9.1246 5.7598z"
                fill="#c0c0c0"
              />
              <path
                transform="scale(.26458)"
                d="m-273.15 319.2-27.588 14.77 8.498 5.3613 19.09-12.049zm15.309 25.67v44.412h8.8672v-35.635h33.361v-8.7773h-33.783zm25.336 24.66v8.7774h8.0254v10.975h8.8672v-19.752z"
                fill="#007bff"
              />
            </g>
          </svg>
        </a>

        <nav id="navCategories">
          <ul>
              <li>
              <a href="../../../../../category/automation.html"
                >automation
                <svg
                  class="sidebar-category-icon"
                  width="1em"
                  height="1em"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    opacity="1"
                    d="M18.6695 2H16.7695C14.5895 2 13.4395 3.15 13.4395 5.33V7.23C13.4395 9.41 14.5895 10.56 16.7695 10.56H18.6695C20.8495 10.56 21.9995 9.41 21.9995 7.23V5.33C21.9995 3.15 20.8495 2 18.6695 2Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                  <path
                    opacity="1"
                    d="M7.24 13.4302H5.34C3.15 13.4302 2 14.5802 2 16.7602V18.6602C2 20.8502 3.15 22.0002 5.33 22.0002H7.23C9.41 22.0002 10.56 20.8502 10.56 18.6702V16.7702C10.57 14.5802 9.42 13.4302 7.24 13.4302Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                  <path
                    d="M6.29 10.58C8.6593 10.58 10.58 8.6593 10.58 6.29C10.58 3.9207 8.6593 2 6.29 2C3.9207 2 2 3.9207 2 6.29C2 8.6593 3.9207 10.58 6.29 10.58Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                  <path
                    d="M17.7099 21.9999C20.0792 21.9999 21.9999 20.0792 21.9999 17.7099C21.9999 15.3406 20.0792 13.4199 17.7099 13.4199C15.3406 13.4199 13.4199 15.3406 13.4199 17.7099C13.4199 20.0792 15.3406 21.9999 17.7099 21.9999Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                </svg>
              </a>
            </li>
            <li>
              <a href="../../../../../category/learnings.html"
                >learnings
                <svg
                  class="sidebar-category-icon"
                  width="1em"
                  height="1em"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    opacity="1"
                    d="M18.6695 2H16.7695C14.5895 2 13.4395 3.15 13.4395 5.33V7.23C13.4395 9.41 14.5895 10.56 16.7695 10.56H18.6695C20.8495 10.56 21.9995 9.41 21.9995 7.23V5.33C21.9995 3.15 20.8495 2 18.6695 2Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                  <path
                    opacity="1"
                    d="M7.24 13.4302H5.34C3.15 13.4302 2 14.5802 2 16.7602V18.6602C2 20.8502 3.15 22.0002 5.33 22.0002H7.23C9.41 22.0002 10.56 20.8502 10.56 18.6702V16.7702C10.57 14.5802 9.42 13.4302 7.24 13.4302Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                  <path
                    d="M6.29 10.58C8.6593 10.58 10.58 8.6593 10.58 6.29C10.58 3.9207 8.6593 2 6.29 2C3.9207 2 2 3.9207 2 6.29C2 8.6593 3.9207 10.58 6.29 10.58Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                  <path
                    d="M17.7099 21.9999C20.0792 21.9999 21.9999 20.0792 21.9999 17.7099C21.9999 15.3406 20.0792 13.4199 17.7099 13.4199C15.3406 13.4199 13.4199 15.3406 13.4199 17.7099C13.4199 20.0792 15.3406 21.9999 17.7099 21.9999Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                </svg>
              </a>
            </li>
            <li>
              <a href="../../../../../category/tips-and-tricks.html"
                >tips-and-tricks
                <svg
                  class="sidebar-category-icon"
                  width="1em"
                  height="1em"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    opacity="1"
                    d="M18.6695 2H16.7695C14.5895 2 13.4395 3.15 13.4395 5.33V7.23C13.4395 9.41 14.5895 10.56 16.7695 10.56H18.6695C20.8495 10.56 21.9995 9.41 21.9995 7.23V5.33C21.9995 3.15 20.8495 2 18.6695 2Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                  <path
                    opacity="1"
                    d="M7.24 13.4302H5.34C3.15 13.4302 2 14.5802 2 16.7602V18.6602C2 20.8502 3.15 22.0002 5.33 22.0002H7.23C9.41 22.0002 10.56 20.8502 10.56 18.6702V16.7702C10.57 14.5802 9.42 13.4302 7.24 13.4302Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                  <path
                    d="M6.29 10.58C8.6593 10.58 10.58 8.6593 10.58 6.29C10.58 3.9207 8.6593 2 6.29 2C3.9207 2 2 3.9207 2 6.29C2 8.6593 3.9207 10.58 6.29 10.58Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                  <path
                    d="M17.7099 21.9999C20.0792 21.9999 21.9999 20.0792 21.9999 17.7099C21.9999 15.3406 20.0792 13.4199 17.7099 13.4199C15.3406 13.4199 13.4199 15.3406 13.4199 17.7099C13.4199 20.0792 15.3406 21.9999 17.7099 21.9999Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                </svg>
              </a>
            </li>
            <li>
              <a href="../../../../../category/tools.html"
                >tools
                <svg
                  class="sidebar-category-icon"
                  width="1em"
                  height="1em"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    opacity="1"
                    d="M18.6695 2H16.7695C14.5895 2 13.4395 3.15 13.4395 5.33V7.23C13.4395 9.41 14.5895 10.56 16.7695 10.56H18.6695C20.8495 10.56 21.9995 9.41 21.9995 7.23V5.33C21.9995 3.15 20.8495 2 18.6695 2Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                  <path
                    opacity="1"
                    d="M7.24 13.4302H5.34C3.15 13.4302 2 14.5802 2 16.7602V18.6602C2 20.8502 3.15 22.0002 5.33 22.0002H7.23C9.41 22.0002 10.56 20.8502 10.56 18.6702V16.7702C10.57 14.5802 9.42 13.4302 7.24 13.4302Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                  <path
                    d="M6.29 10.58C8.6593 10.58 10.58 8.6593 10.58 6.29C10.58 3.9207 8.6593 2 6.29 2C3.9207 2 2 3.9207 2 6.29C2 8.6593 3.9207 10.58 6.29 10.58Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                  <path
                    d="M17.7099 21.9999C20.0792 21.9999 21.9999 20.0792 21.9999 17.7099C21.9999 15.3406 20.0792 13.4199 17.7099 13.4199C15.3406 13.4199 13.4199 15.3406 13.4199 17.7099C13.4199 20.0792 15.3406 21.9999 17.7099 21.9999Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                </svg>
              </a>
            </li>
            <li>
              <a href="../../../../../category/workflow.html"
                >workflow
                <svg
                  class="sidebar-category-icon"
                  width="1em"
                  height="1em"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    opacity="1"
                    d="M18.6695 2H16.7695C14.5895 2 13.4395 3.15 13.4395 5.33V7.23C13.4395 9.41 14.5895 10.56 16.7695 10.56H18.6695C20.8495 10.56 21.9995 9.41 21.9995 7.23V5.33C21.9995 3.15 20.8495 2 18.6695 2Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                  <path
                    opacity="1"
                    d="M7.24 13.4302H5.34C3.15 13.4302 2 14.5802 2 16.7602V18.6602C2 20.8502 3.15 22.0002 5.33 22.0002H7.23C9.41 22.0002 10.56 20.8502 10.56 18.6702V16.7702C10.57 14.5802 9.42 13.4302 7.24 13.4302Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                  <path
                    d="M6.29 10.58C8.6593 10.58 10.58 8.6593 10.58 6.29C10.58 3.9207 8.6593 2 6.29 2C3.9207 2 2 3.9207 2 6.29C2 8.6593 3.9207 10.58 6.29 10.58Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                  <path
                    d="M17.7099 21.9999C20.0792 21.9999 21.9999 20.0792 21.9999 17.7099C21.9999 15.3406 20.0792 13.4199 17.7099 13.4199C15.3406 13.4199 13.4199 15.3406 13.4199 17.7099C13.4199 20.0792 15.3406 21.9999 17.7099 21.9999Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                </svg>
              </a>
            </li>
           </ul>
        </nav>
      </aside>

      <aside id="pageNavigation">
        <nav>
          <ul>
            <li>
              <a href="../../../../.."
                ><svg
                  class="navigation-icon"
                  width="1em"
                  height="1em"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M18.5 3H16C15.7239 3 15.5 3.22386 15.5 3.5V3.55891L19 6.35891V3.5C19 3.22386 18.7762 3 18.5 3Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M10.75 9.5C10.75 8.80964 11.3097 8.25 12 8.25C12.6904 8.25 13.25 8.80964 13.25 9.5C13.25 10.1904 12.6904 10.75 12 10.75C11.3097 10.75 10.75 10.1904 10.75 9.5Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M20.75 10.9605L21.5315 11.5857C21.855 11.8444 22.3269 11.792 22.5857 11.4685C22.8444 11.1451 22.792 10.6731 22.4685 10.4143L14.3426 3.91362C12.9731 2.81796 11.027 2.81796 9.65742 3.91362L1.53151 10.4143C1.20806 10.6731 1.15562 11.1451 1.41438 11.4685C1.67313 11.792 2.1451 11.8444 2.46855 11.5857L3.25003 10.9605V21.25H2.00003C1.58581 21.25 1.25003 21.5858 1.25003 22C1.25003 22.4142 1.58581 22.75 2.00003 22.75H22C22.4142 22.75 22.75 22.4142 22.75 22C22.75 21.5858 22.4142 21.25 22 21.25H20.75V10.9605ZM9.25003 9.5C9.25003 7.98122 10.4812 6.75 12 6.75C13.5188 6.75 14.75 7.98122 14.75 9.5C14.75 11.0188 13.5188 12.25 12 12.25C10.4812 12.25 9.25003 11.0188 9.25003 9.5ZM12.0494 13.25C12.7143 13.25 13.2871 13.2499 13.7459 13.3116C14.2375 13.3777 14.7088 13.5268 15.091 13.909C15.4733 14.2913 15.6223 14.7625 15.6884 15.2542C15.7462 15.6842 15.7498 16.2146 15.75 16.827C15.75 16.8679 15.75 16.9091 15.75 16.9506L15.75 21.25H14.25V17C14.25 16.2717 14.2484 15.8009 14.2018 15.454C14.1581 15.1287 14.0875 15.0268 14.0304 14.9697C13.9733 14.9126 13.8713 14.842 13.546 14.7982C13.1991 14.7516 12.7283 14.75 12 14.75C11.2717 14.75 10.8009 14.7516 10.4541 14.7982C10.1288 14.842 10.0268 14.9126 9.9697 14.9697C9.9126 15.0268 9.84199 15.1287 9.79826 15.454C9.75162 15.8009 9.75003 16.2717 9.75003 17V21.25H8.25003L8.25003 16.9506C8.24999 16.2858 8.24996 15.7129 8.31163 15.2542C8.37773 14.7625 8.52679 14.2913 8.90904 13.909C9.29128 13.5268 9.76255 13.3777 10.2542 13.3116C10.7129 13.2499 11.2858 13.25 11.9507 13.25H12.0494Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M10.75 9.5C10.75 8.80964 11.3097 8.25 12 8.25C12.6904 8.25 13.25 8.80964 13.25 9.5C13.25 10.1904 12.6904 10.75 12 10.75C11.3097 10.75 10.75 10.1904 10.75 9.5Z"
                    fill="hsl(211, 100%, 95%)"
                  />
                </svg>
                Home</a
              >
            </li>
            <li>
              <a href="../../../../../archives.html"
                ><svg
                  class="navigation-icon"
                  fill="hsl(211, 100%, 95%)"
                  width="0.8em"
                  height="1em"
                  viewBox="0 0 16 16"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M3 6v8h10V6H3zM1 6H0V0h16v6h-1v10H1V6zm4 2h6v2H5V8zM2 2v2h12V2H2z"
                    fill-rule="evenodd"
                  />
                </svg>
                Archives</a
              >
            </li>
            <li>
              <a href="../../../../../tags.html"
                ><svg
                  class="navigation-icon"
                  fill="hsl(211, 100%, 95%)"
                  width="1em"
                  height="1em"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z"
                  />
                </svg>
                Tags</a
              >
            </li>
            <li>
              <a href="../../../../../contact.html"
                ><svg
                  class="navigation-icon"
                  fill="hsl(211, 100%, 95%)"
                  width="1em"
                  height="1em"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M4,21a1,1,0,0,0,1,1H19a1,1,0,0,0,1-1V3a1,1,0,0,0-1-1H5A1,1,0,0,0,4,3ZM12,7.5a2,2,0,1,1-2,2A2,2,0,0,1,12,7.5ZM8.211,16.215a4,4,0,0,1,7.578,0A.993.993,0,0,1,14.83,17.5H9.18A1,1,0,0,1,8.211,16.215Z"
                  />
                </svg>
                Contact</a
              >
            </li>
            <li>
              <a
                href="/resume"
                target="_blank"
                rel="noopener noreferrer"
                ><svg
                  class="navigation-icon"
                  fill="hsl(211, 100%, 95%)"
                  width="1em"
                  height="1em"
                  viewBox="0 0 846.66 846.66"
                  style="
                    shape-rendering: geometricPrecision;
                    text-rendering: geometricPrecision;
                    image-rendering: optimizeQuality;
                    fill-rule: evenodd;
                    clip-rule: evenodd;
                  "
                  version="1.1"
                  xml:space="preserve"
                  xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink"
                >
                  <g id="Layer_x0020_1">
                    <path
                      class="fil0"
                      d="M305.08 127c-27.16,0 -27.16,-41.29 0,-41.29l60.83 0 0 -54.93c0,-11.4 9.25,-20.64 20.65,-20.64l190.32 0c11.4,0 20.65,9.24 20.65,20.64l0 54.93 106.1 0c11.4,0 20.65,9.25 20.65,20.65l0 709.52c0,11.4 -9.25,20.64 -20.65,20.64l-560.6 0c-11.4,0 -20.65,-9.24 -20.65,-20.64l0 -709.52c0,-11.4 9.25,-20.65 20.65,-20.65l67.88 0c27.15,0 27.15,41.29 0,41.29l-47.24 0 0 668.23 519.32 0 0 -668.23c-125.97,0 -251.94,0 -377.91,0zm102.12 -41.29l149.04 0 0 -34.28 -149.04 0 0 34.28zm-191.92 480.71c-27.15,0 -27.15,-41.29 0,-41.29l188.46 0c27.16,0 27.16,41.29 0,41.29l-188.46 0zm0 156.73c-27.15,0 -27.15,-41.29 0,-41.29l188.46 0c27.16,0 27.16,41.29 0,41.29l-188.46 0zm0 -78.36c-27.15,0 -27.15,-41.29 0,-41.29l188.46 0c27.16,0 27.16,41.29 0,41.29l-188.46 0zm294.81 -101.94l121.29 0c11.4,0 20.64,9.25 20.64,20.65l0 121.28c0,11.4 -9.24,20.65 -20.64,20.65l-121.29 0c-11.4,0 -20.64,-9.25 -20.64,-20.65l0 -121.28c0,-11.4 9.24,-20.65 20.64,-20.65zm100.64 41.29l-79.99 0 0 80 79.99 0 0 -80zm-243.28 -252.09c13.62,0.23 24.62,-11.16 24.62,-24.62 0,-13.72 -10.9,-24.63 -24.62,-24.63 -13.69,0 -24.62,10.94 -24.62,24.63 0,13.48 10.98,24.85 24.62,24.62zm20.65 37.98l0 59.74c47.81,-9.73 82.31,-51.95 82.31,-100.88 0,-56.87 -46.09,-102.96 -102.96,-102.96 -56.86,0 -102.95,46.09 -102.95,102.96 0,48.93 34.49,91.15 82.31,100.88l0 -59.75c-26.78,-8.89 -45.28,-34.08 -45.28,-62.59 0,-36.3 29.62,-65.92 65.92,-65.92 36.29,0 65.92,29.63 65.92,65.92 0,28.49 -18.49,53.73 -45.27,62.6zm-20.65 -185.39c79.67,0 144.25,64.58 144.25,144.25 0,79.66 -64.58,144.24 -144.25,144.24 -79.66,0 -144.24,-64.58 -144.24,-144.24 0,-79.67 64.58,-144.25 144.24,-144.25z"
                    />
                  </g>
                </svg>
                Resume</a
              >
            </li>
          </ul>
        </nav>
      </aside>

      <!-- Content area -->
      <main>
<article>
  <div class="article_title">
    <h1><a href="../../../../../posts/2021/07/31/convenient-and-lightning-fast-backups-with-rsync/">Convenient and lightning fast backups with&nbsp;rsync</a></h1>
  </div>
  <div class="meta_container_hrs">
    <hr />
    <div class="meta_container">
      <div class="article_meta">
        <div>
          Posted on <strong>July 31, 2021</strong> in
          <span id="category-article">
            <a href="../../../../../category/automation.html"
              ><svg
                class="article-category-icon"
                width="1em"
                height="1em"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  opacity="1"
                  d="M18.6695 2H16.7695C14.5895 2 13.4395 3.15 13.4395 5.33V7.23C13.4395 9.41 14.5895 10.56 16.7695 10.56H18.6695C20.8495 10.56 21.9995 9.41 21.9995 7.23V5.33C21.9995 3.15 20.8495 2 18.6695 2Z"
                  fill="hsl(211, 100%, 95%)"
                />
                <path
                  opacity="1"
                  d="M7.24 13.4302H5.34C3.15 13.4302 2 14.5802 2 16.7602V18.6602C2 20.8502 3.15 22.0002 5.33 22.0002H7.23C9.41 22.0002 10.56 20.8502 10.56 18.6702V16.7702C10.57 14.5802 9.42 13.4302 7.24 13.4302Z"
                  fill="hsl(211, 100%, 95%)"
                />
                <path
                  d="M6.29 10.58C8.6593 10.58 10.58 8.6593 10.58 6.29C10.58 3.9207 8.6593 2 6.29 2C3.9207 2 2 3.9207 2 6.29C2 8.6593 3.9207 10.58 6.29 10.58Z"
                  fill="hsl(211, 100%, 95%)"
                />
                <path
                  d="M17.7099 21.9999C20.0792 21.9999 21.9999 20.0792 21.9999 17.7099C21.9999 15.3406 20.0792 13.4199 17.7099 13.4199C15.3406 13.4199 13.4199 15.3406 13.4199 17.7099C13.4199 20.0792 15.3406 21.9999 17.7099 21.9999Z"
                  fill="hsl(211, 100%, 95%)"
                />
              </svg>
              automation</a
            >
          </span>
        </div>
        <div class="article_tags">
           <a href="../../../../../tag/backup.html"
            ><svg
              class="tag-icon"
              fill="hsl(211, 100%, 95%)"
              width="1em"
              height="1em"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z"
              />
            </svg>
            backup</a
          >          <a href="../../../../../tag/python.html"
            ><svg
              class="tag-icon"
              fill="hsl(211, 100%, 95%)"
              width="1em"
              height="1em"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z"
              />
            </svg>
            python</a
          >          <a href="../../../../../tag/rsync.html"
            ><svg
              class="tag-icon"
              fill="hsl(211, 100%, 95%)"
              width="1em"
              height="1em"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z"
              />
            </svg>
            rsync</a
          >          <a href="../../../../../tag/script.html"
            ><svg
              class="tag-icon"
              fill="hsl(211, 100%, 95%)"
              width="1em"
              height="1em"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z"
              />
            </svg>
            script</a
          >          <a href="../../../../../tag/terminal.html"
            ><svg
              class="tag-icon"
              fill="hsl(211, 100%, 95%)"
              width="1em"
              height="1em"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z"
              />
            </svg>
            terminal</a
          >         </div>
      </div>
      <div class="article_readtime">
        <span class="readtime_tilde">~</span
        ><span class="readtime_minutes">9</span>
        minutes to read
      </div>
    </div>
    <hr />
  </div>

  <h2 class="toc-title">Table of contents</h2>
  <nav class="toc"><div class="toc">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#setting-up-the-script">Setting up the script</a><ul>
<li><a href="#the-configuration-file">The configuration file</a><ul>
<li><a href="#description-of-available-settings">Description of available settings</a></li>
</ul>
</li>
<li><a href="#the-script">The script</a></li>
</ul>
</li>
<li><a href="#how-to-use">How to use</a><ul>
<li><a href="#one-time-setup">One-time setup</a></li>
<li><a href="#using-as-a-daily-driver">Using as a daily driver</a></li>
<li><a href="#avoid-deleting-files-at-the-destination">Avoid deleting files at the destination</a></li>
</ul>
</li>
<li><a href="#conclusion">Conclusion</a><ul>
<li><a href="#more-resources-and-references">More resources and references</a></li>
</ul>
</li>
</ul>
</div></nav>
  <div class="article_text">
<hr/>
<h1 id="introduction">Introduction</h1>
<p>Coming into its fourth year of existence and usage in production environments, this simple script has proven to be a fantastic ally. Despite the plethora of great options out there that have more bells and whistles, I have yet to find a single complaint about this solution as it hinges on the minimalist side, requiring only a working Python 3 installation along with the powerful <code>rsync</code> command-line tool.</p>
<p>It’s one of those pieces of code that perform some really basic tasks that can be scheduled with <a href="https://opensource.com/article/17/11/how-use-cron-linux"><code>cron</code></a> in the background, that one forgets about until a real need to access a backup comes up. This script is barely a Python wrapper calling <code>rsync</code> but still, I felt like sharing it for those who like uncomplicated setups. I’ve literally left this script alone for years some time after the release of Python 3.6 which was released back in December 2016 and it has been going strong since then mostly due to the fact it does not do much more than backing files up and leveraging <code>rsync</code>.</p>
<hr/>
<h1 id="prerequisites">Prerequisites</h1>
<p>As briefly mentioned above, this tool uses <a href="https://www.python.org/">Python 3.6+</a> and <a href="https://rsync.samba.org/"><code>rsync</code></a>. That’s it, really.</p>
<h1 id="setting-up-the-script">Setting up the script</h1>
<p>This script is being made <a href="https://github.com/sglavoie/dev-helpers/tree/main/rsync_backup">available on GitHub</a> within a set of other small tools. To get the source code for this particular tool, you can either <a href="https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/cloning-a-repository-from-github/cloning-a-repository">clone the whole repository</a>, get the content of the files separately or simply copy and paste <a href="#the-script">the current version from below</a>. You will need a <code>settings.json</code> file as well as the Python script that will run the necessary commands.</p>
<h2 id="the-configuration-file">The configuration file</h2>
<p>Right off the bat, you will most probably want to update the array of strings for the <code>data_sources</code> key as well as the string for the key <code>data_destination</code> in the following <span class="caps">JSON</span> file.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">"data_sources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">"/home/sglavoie"</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">"data_destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/media/sglavoie/Elements"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"terminal_width"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"sep"</span><span class="p">:</span><span class="w"> </span><span class="s2">"=-"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"log_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">".backup_log_"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"log_format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"%y%m%d_%H_%M_%S"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"rsync_options"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">"-vaAHh"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"--delete"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"--ignore-errors"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"--force"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"--prune-empty-dirs"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"--delete-excluded"</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">"backup_exclude"</span><span class="p">:</span><span class="w"> </span><span class="s2">".backup_exclude"</span>
<span class="p">}</span>
</code></pre></div>
<p>By default, the following options are passed to <code>rsync</code>:</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-vaAH</code></td>
<td>verbose, archive, ACLs, hard-links (preserve)</td>
</tr>
<tr>
<td><code>--delete</code></td>
<td><em>“delete extraneous files from destination dirs”</em></td>
</tr>
<tr>
<td><code>--ignore-errors</code></td>
<td><em>“delete even if there are I/O errors”</em></td>
</tr>
<tr>
<td><code>--force</code></td>
<td><em>“force deletion of directories even if not empty”</em></td>
</tr>
<tr>
<td><code>--prune-empty-dirs</code></td>
<td><em>“prune empty directory chains from the file-list”</em></td>
</tr>
<tr>
<td><code>--delete-excluded</code></td>
<td><em>“also delete excluded files from destination dirs”</em></td>
</tr>
</tbody>
</table></div>
<h3 id="description-of-available-settings">Description of available settings</h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Name of setting</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data_sources</code></td>
<td>Directories to backup, supplied as a list of strings (no slash at the end).</td>
</tr>
<tr>
<td><code>data_destination</code></td>
<td>Single destination of the files to backup, supplied as a string. This can be overridden when passing option <code>-d</code> or <code>--dest</code> to the script</td>
</tr>
<tr>
<td><code>terminal_width</code></td>
<td>Line length in the terminal, used for printing separators.</td>
</tr>
<tr>
<td><code>sep</code></td>
<td>Separator to use along with <code>terminal_width</code>.</td>
</tr>
<tr>
<td><code>log_name</code></td>
<td>Sets the prefix of the log filename.</td>
</tr>
<tr>
<td><code>log_format</code></td>
<td>This goes right after <code>log_name</code> as a suffix.</td>
</tr>
<tr>
<td><code>rsync_options</code></td>
<td>Options to use with rsync as a list of strings.</td>
</tr>
<tr>
<td><code>backup_exclude</code></td>
<td>Default file in each source in <code>data_sources</code> where files/directories will be ignored.</td>
</tr>
</tbody>
</table></div>
<h2 id="the-script">The script</h2>
<div class="highlight"><pre><span></span><code><span class="sd">"""</span>
<span class="sd">Script that uses `rsync` to make a simple and convenient backup.</span>
<span class="sd">Note: requires Python 3.6+. No other Python third-party libraries required.</span>
<span class="sd">"""</span>
<span class="kn">import</span> <span class="nn">argparse</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pathlib</span>
<span class="kn">import</span> <span class="nn">subprocess</span>


<span class="k">def</span> <span class="nf">run_backup</span><span class="p">():</span>
<span class="w">    </span><span class="sd">"""This is where all the action happens!"""</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="n">get_settings</span><span class="p">()</span>

    <span class="c1"># initiate the parser</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="s2">"backup"</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">"-c"</span><span class="p">,</span>
        <span class="s2">"--clear"</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">"Delete all log files for current source in DATA_SOURCES."</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">"store_true"</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">"-s"</span><span class="p">,</span>
        <span class="s2">"--src"</span><span class="p">,</span>
        <span class="n">dest</span><span class="o">=</span><span class="s2">"source"</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">"Specify an alternative source to backup as a string."</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">"store"</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">"-d"</span><span class="p">,</span>
        <span class="s2">"--dest"</span><span class="p">,</span>
        <span class="n">dest</span><span class="o">=</span><span class="s2">"destination"</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">"Specify an alternative destination for backup as a string."</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">"store"</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># read arguments from the command line</span>
    <span class="n">arguments</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>

    <span class="c1"># check for --source or -s</span>
    <span class="c1"># Replace potential list of sources to backup with this one</span>
    <span class="k">if</span> <span class="n">arguments</span><span class="o">.</span><span class="n">source</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">arguments</span><span class="o">.</span><span class="n">source</span><span class="p">):</span>
            <span class="n">settings</span><span class="p">[</span><span class="s2">"data_sources"</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">arguments</span><span class="o">.</span><span class="n">source</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">"Please enter a valid source to backup."</span><span class="p">)</span>
            <span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1"># check for --clear or -c</span>
    <span class="k">if</span> <span class="n">arguments</span><span class="o">.</span><span class="n">clear</span><span class="p">:</span>
        <span class="n">clear_logs</span><span class="p">(</span>
            <span class="n">data_sources</span><span class="o">=</span><span class="n">settings</span><span class="p">[</span><span class="s2">"data_sources"</span><span class="p">],</span>
            <span class="n">log_name</span><span class="o">=</span><span class="n">settings</span><span class="p">[</span><span class="s2">"log_name"</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="c1"># check for --dest or -d</span>
    <span class="c1"># Replace destination to backup with this one</span>
    <span class="k">if</span> <span class="n">arguments</span><span class="o">.</span><span class="n">destination</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">arguments</span><span class="o">.</span><span class="n">destination</span><span class="p">):</span>
            <span class="n">settings</span><span class="p">[</span><span class="s2">"data_destination"</span><span class="p">]</span> <span class="o">=</span> <span class="n">arguments</span><span class="o">.</span><span class="n">destination</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">"Please enter a valid destination."</span><span class="p">)</span>
            <span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1"># don't run the script if the destination doesn't exist</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="s2">"data_destination"</span><span class="p">]):</span>
        <span class="nb">print</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">"The destination doesn't exist.</span><span class="se">\n</span><span class="s2">(</span><span class="si">{</span><span class="n">settings</span><span class="p">[</span><span class="s1">'data_destination'</span><span class="p">]</span><span class="si">}</span><span class="s2">)"</span>
        <span class="p">)</span>
        <span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="n">backup_all_sources</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">backup_all_sources</span><span class="p">(</span><span class="n">settings</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""Iterate over all sources to backup."""</span>
    <span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">settings</span><span class="p">[</span><span class="s2">"data_sources"</span><span class="p">]:</span>
        <span class="n">date_now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
        <span class="n">log_format</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span>
            <span class="n">date_now</span><span class="p">,</span> <span class="n">settings</span><span class="p">[</span><span class="s2">"log_format"</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="n">log_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">settings</span><span class="p">[</span><span class="s1">'log_name'</span><span class="p">]</span><span class="si">}{</span><span class="n">log_format</span><span class="si">}</span><span class="s2">"</span>
        <span class="n">log_option</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"--log-file=</span><span class="si">{</span><span class="n">log_filename</span><span class="si">}</span><span class="s2">"</span>

        <span class="n">backup_source</span> <span class="o">=</span> <span class="n">settings</span><span class="p">[</span><span class="s2">"backup_cmd"</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">backup_source</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">log_option</span><span class="p">])</span>

        <span class="c1"># files to ignore in backup</span>
        <span class="n">exclude_file</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">settings</span><span class="p">[</span><span class="s1">'backup_exclude'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">exclude_file</span><span class="p">):</span>
            <span class="n">exclude_option</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"--exclude-from=</span><span class="si">{</span><span class="n">exclude_file</span><span class="si">}</span><span class="s2">"</span>
            <span class="n">backup_source</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                <span class="p">[</span><span class="n">exclude_option</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">settings</span><span class="p">[</span><span class="s2">"data_destination"</span><span class="p">]]</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># skips '--exclude-from' option if no file is found</span>
            <span class="n">backup_source</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">source</span><span class="p">,</span> <span class="n">settings</span><span class="p">[</span><span class="s2">"data_destination"</span><span class="p">]])</span>

        <span class="n">settings</span><span class="p">[</span><span class="s2">"source"</span><span class="p">]</span> <span class="o">=</span> <span class="n">source</span>
        <span class="n">settings</span><span class="p">[</span><span class="s2">"backup_source"</span><span class="p">]</span> <span class="o">=</span> <span class="n">backup_source</span>
        <span class="n">settings</span><span class="p">[</span><span class="s2">"log_filename"</span><span class="p">]</span> <span class="o">=</span> <span class="n">log_filename</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">backing_source</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">KeyboardInterrupt: Exiting operations."</span><span class="p">)</span>
            <span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">backing_source</span><span class="p">(</span><span class="n">settings</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""Print information to STDOUT and to `log_filename` and executes the</span>
<span class="sd">    rsync command."""</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="s2">"sep"</span><span class="p">]</span> <span class="o">*</span> <span class="n">settings</span><span class="p">[</span><span class="s2">"terminal_width"</span><span class="p">])</span>

    <span class="n">cmd_executed</span> <span class="o">=</span> <span class="s2">" "</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="s2">"backup_source"</span><span class="p">])</span>
    <span class="n">msg_executed</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"Command executed:</span><span class="se">\n</span><span class="si">{</span><span class="n">cmd_executed</span><span class="si">}</span><span class="se">\n</span><span class="s2">"</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">msg_executed</span><span class="p">)</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="s2">"log_filename"</span><span class="p">],</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">log_file</span><span class="p">:</span>
        <span class="n">log_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">msg_executed</span><span class="si">}</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">child</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="s2">"backup_source"</span><span class="p">])</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">child</span><span class="o">.</span><span class="n">communicate</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># call communicate to get the return code</span>
        <span class="n">rc</span> <span class="o">=</span> <span class="n">child</span><span class="o">.</span><span class="n">returncode</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"FileNotFoundError: Is the `rsync` tool installed?"</span><span class="p">)</span>
        <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Backup completed for: </span><span class="si">{</span><span class="n">settings</span><span class="p">[</span><span class="s1">'source'</span><span class="p">]</span><span class="si">}</span><span class="s2"> (return code: </span><span class="si">{</span><span class="n">rc</span><span class="si">}</span><span class="s2">)"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="s2">"sep"</span><span class="p">]</span> <span class="o">*</span> <span class="n">settings</span><span class="p">[</span><span class="s2">"terminal_width"</span><span class="p">])</span>


<span class="k">def</span> <span class="nf">clear_logs</span><span class="p">(</span><span class="n">data_sources</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">log_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""Clears log files for each source specified in SETTINGS."""</span>
    <span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">data_sources</span><span class="p">:</span>
        <span class="c1"># Retrieve a list of all matching log files in `source`</span>
        <span class="n">log_files</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">log_name</span><span class="si">}</span><span class="s2">*"</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">log_files</span> <span class="o">==</span> <span class="p">[]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">There is no log file to delete in </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">."</span><span class="p">)</span>
            <span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Log files in </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">:"</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">log_file</span> <span class="ow">in</span> <span class="n">log_files</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">log_file</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">user_says_yes</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">log_file</span> <span class="ow">in</span> <span class="n">log_files</span><span class="p">:</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">log_file</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">"Log files deleted."</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Exiting script..."</span><span class="p">)</span>
        <span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">user_says_yes</span><span class="p">(</span>
    <span class="n">msg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">Do you want to delete log files for this source? (y/n) "</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""Asks the user to enter either "y" or "n" to confirm. Returns boolean."""</span>
    <span class="n">choice</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">while</span> <span class="n">choice</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">user_input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">user_input</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">"y"</span><span class="p">:</span>
            <span class="n">choice</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">user_input</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">"n"</span><span class="p">:</span>
            <span class="n">choice</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">'Please enter either "y" or "n".'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">choice</span>


<span class="k">def</span> <span class="nf">get_settings</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Get the settings from `settings.json`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Containing all settings used by the tool.</span>
<span class="sd">    """</span>
    <span class="n">directory</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">directory</span> <span class="o">/</span> <span class="s2">"settings.json"</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
        <span class="n">settings</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>

    <span class="n">backup_cmd</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"rsync"</span><span class="p">]</span>
    <span class="n">backup_cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="s2">"rsync_options"</span><span class="p">])</span>
    <span class="n">settings</span><span class="p">[</span><span class="s2">"backup_cmd"</span><span class="p">]</span> <span class="o">=</span> <span class="n">backup_cmd</span>

    <span class="k">return</span> <span class="n">settings</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
    <span class="n">run_backup</span><span class="p">()</span>
</code></pre></div>
<hr/>
<h1 id="how-to-use">How to use</h1>
<h2 id="one-time-setup">One-time setup</h2>
<ol>
<li>Set all values in <code>settings.json</code> to suit your needs.</li>
<li>Make sure that the backup destination is available/mounted. A simple warning will be echoed if the destination can’t be found.</li>
<li>Call the Python script. As an example, if it’s located at <code>/home/user/backup/rsync_backup.py</code>, then you could put the following alias in <code>~/.bash_aliases</code> (or equivalent)*:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nb">alias</span><span class="w"> </span><span class="nv">backup</span><span class="o">=</span><span class="s1">'python3 /home/user/backup/rsync_backup.py'</span>
</code></pre></div>
<p>* Python may be called differently on your system, e.g. simply <code>python</code> instead of <code>python3</code>.</p>
<p>In this instance, the script can now be executed in a terminal with the keyword <code>backup</code> along with optional arguments.</p>
<h2 id="using-as-a-daily-driver">Using as a daily driver</h2>
<p>Make sure the destination to back files up is available/mounted and simply call the script (e.g. <code>backup</code> in this example).</p>
<p>The output will look something like this:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nv">backup</span>
<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-<span class="o">=</span>-
Command<span class="w"> </span>executed:
rsync<span class="w"> </span>-vaAHh<span class="w"> </span>--delete<span class="w"> </span>--ignore-errors<span class="w"> </span>--force<span class="w"> </span>--prune-empty-dirs<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--delete-excluded<span class="w"> </span>--log-file<span class="o">=</span>/home/sglavoie/.backup_log_210731_09_28_09<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--exclude-from<span class="o">=</span>/home/sglavoie/.backup_exclude<span class="w"> </span>/home/sglavoie<span class="w"> </span>/tmp

building<span class="w"> </span>file<span class="w"> </span>list<span class="w"> </span>...<span class="w"> </span><span class="k">done</span>
deleting<span class="w"> </span>sglavoie/.backup_log_210731_08_47_24
sglavoie/
sglavoie/.bash_aliases
...
</code></pre></div>
<h2 id="avoid-deleting-files-at-the-destination">Avoid deleting files at the destination</h2>
<p>The <code>rsync</code> command first builds a list of the files that are part of the backup and will go on adding new files, updating existing files as well as removing files that are found in the destination but not in the source anymore according to the default list of flags passed to it in this implementation. It is therefore important to note that <strong>if you would like to back up files in the destination that no longer exist in the source</strong>, a convenient solution is simply to create a new folder at the root level inside the destination directory and manage those files separately.</p>
<p>For instance, I sometimes want to back up large video files but there is rarely a need to update them. In this case, it would be possible to add the directories to exclude in the file <code>.backup_exclude</code> (default configuration option) like so:</p>
<div class="highlight"><pre><span></span><code>Videos/
Dropbox/other/folder/
</code></pre></div>
<p>Then, these directories will be ignored when backing up the source (if they are nested inside the source directory to start with!). If the destination is set to <code>/media/user/backup</code> and the source set to <code>/home/user/my_folder</code>, then the script would recreate the “root” directory of the source if it doesn’t exist on the destination:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ls<span class="w"> </span>/media/user/backup
my_folder
</code></pre></div>
<p>You could keep track of those heavy files that do not need to be backed up frequently by putting them manually next to <code>my_folder</code> in <code>/media/user/backup</code>. This will lead to huge speed ups when running the script if you track many files in this way!</p>
<hr/>
<h1 id="conclusion">Conclusion</h1>
<p>This was a quick overview of what <code>rsync</code> can offer: I neither touched upon its remote syncing capabilities nor the vast majority of its options, for which you can find a lot more information about by typing <code>man rsync</code> to display the manual page in the terminal.</p>
<p>Without making use of any fancy features of recent versions of Python or <code>rsync</code>, I have found this simple backup procedure to have worked flawlessly for a long time. Hardware inevitably fails at some point and after having heard about countless examples of people losing some or all of their most precious files (including my own story…), I have come to enjoy backing my system with this little script.</p>
<p>I wouldn’t trust my external drive to last forever either, hence I also rely on Dropbox and Google Drive for documents I find are a good fit. But overall, I just do not tend to back up every single system file in the cloud, so there is still a convincing use case where daily and complete backups become a possibility when using a fast approach like <code>rsync</code> to incrementally save snapshots.</p>
<h2 id="more-resources-and-references">More resources and references</h2>
<ul>
<li><a href="https://rsync.samba.org/">rsync official website</a> – samba.org.</li>
<li><a href="https://www.redhat.com/sysadmin/sync-rsync">Keeping Linux files and directories in sync with rsync</a> – RedHat, going through the main options offered by the tool.</li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-use-rsync-to-sync-local-and-remote-directories">How To Use Rsync to Sync Local and Remote Directories</a> – DigitalOcean, demoing how to use the tool and covering the case of remote file access.</li>
</ul></div>

  <div id="article_comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_identifier = "posts/2021/07/31/convenient-and-lightning-fast-backups-with-rsync/";
      (function () {
        var dsq = document.createElement("script");
        dsq.type = "text/javascript";
        dsq.async = true;
        dsq.src = "//sglavoie.disqus.com/embed.js";
        (
          document.getElementsByTagName("head")[0] ||
          document.getElementsByTagName("body")[0]
        ).appendChild(dsq);
      })();
    </script>
  </div>
</article>
        </main>
    </div>

    <footer>
      <hr />
      <p>
        Built with
        <a
          href="https://www.python.org/"
          target="_blank"
          rel="noopener noreferrer"
          ><svg
            width="1em"
            height="1em"
            viewBox="0 0 32 32"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M13.0164 2C10.8193 2 9.03825 3.72453 9.03825 5.85185V8.51852H15.9235V9.25926H5.97814C3.78107 9.25926 2 10.9838 2 13.1111L2 18.8889C2 21.0162 3.78107 22.7407 5.97814 22.7407H8.27322V19.4815C8.27322 17.3542 10.0543 15.6296 12.2514 15.6296H19.5956C21.4547 15.6296 22.9617 14.1704 22.9617 12.3704V5.85185C22.9617 3.72453 21.1807 2 18.9836 2H13.0164ZM12.0984 6.74074C12.8589 6.74074 13.4754 6.14378 13.4754 5.40741C13.4754 4.67103 12.8589 4.07407 12.0984 4.07407C11.3378 4.07407 10.7213 4.67103 10.7213 5.40741C10.7213 6.14378 11.3378 6.74074 12.0984 6.74074Z"
              fill="url(#paint0_linear_87_8204)"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M18.9834 30C21.1805 30 22.9616 28.2755 22.9616 26.1482V23.4815L16.0763 23.4815L16.0763 22.7408L26.0217 22.7408C28.2188 22.7408 29.9998 21.0162 29.9998 18.8889V13.1111C29.9998 10.9838 28.2188 9.25928 26.0217 9.25928L23.7266 9.25928V12.5185C23.7266 14.6459 21.9455 16.3704 19.7485 16.3704L12.4042 16.3704C10.5451 16.3704 9.03809 17.8296 9.03809 19.6296L9.03809 26.1482C9.03809 28.2755 10.8192 30 13.0162 30H18.9834ZM19.9015 25.2593C19.1409 25.2593 18.5244 25.8562 18.5244 26.5926C18.5244 27.329 19.1409 27.9259 19.9015 27.9259C20.662 27.9259 21.2785 27.329 21.2785 26.5926C21.2785 25.8562 20.662 25.2593 19.9015 25.2593Z"
              fill="url(#paint1_linear_87_8204)"
            />
            <defs>
              <linearGradient
                id="paint0_linear_87_8204"
                x1="12.4809"
                y1="2"
                x2="12.4809"
                y2="22.7407"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#327EBD" />
                <stop offset="1" stop-color="#1565A7" />
              </linearGradient>
              <linearGradient
                id="paint1_linear_87_8204"
                x1="19.519"
                y1="9.25928"
                x2="19.519"
                y2="30"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#FFDA4B" />
                <stop offset="1" stop-color="#F9C600" />
              </linearGradient>
            </defs>
          </svg>
          Python</a
        >
        using
        <a
          href="http://getpelican.com"
          target="_blank"
          rel="noopener noreferrer"
          ><svg
            fill="hsl(211, 100%, 95%)"
            width="1em"
            height="1em"
            viewBox="0 0 24 24"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title>Pelican icon</title>
            <path
              d="M.9418 0c.342 1.0548 1.8764 2.1857 2.9063 2.6238 1.3134.5583 2.5984.6849 3.7501.8122.895.0963 1.7019.2014 2.3439.4998.1622.0726.3288.148.4688.2499.4586.3364.9464.9876 1.2813 1.4368.7186.9583.5858 1.7451 1.4375 2.2178.089.0492.1683.083.2813.125.271.1018.667.2273.8437-.1563a.788.788 0 00.0625-.1874c-.0712-.229-.321-.4327-.4687-.531-.2618-.171-.3735-.274-.5625-.4685-.3494-.3583-.348-.9508-.5938-1.3744.3092-.131 1.9392-.3597 2.2813-.3124.7313.0326 1.31.0782 1.75.531.1727.1365.2497.2567.4064.3749.011.009.0202.024.0312.0312.6933.5037 1.3388.6705 1.9063.8434.1496.0454.2988.1054.4375.1562.213.0763.4065.1594.5938.281.2222.1474.6089.542.625.8747-.5587-.1783-.207.0323-1.0313-.0312-.4019-.0456-.8058-.0647-1.2187-.0937-.6422-.0454-1.273-.1043-1.8751-.2187-.1002-.0184-.2146-.0388-.3125-.0625-.0766-.0163-.146-.011-.2188-.0312-.0018.0308 0 .0353 0 .0625-.0166.6292.4214.9586-.5938 2.1553-.009.0127-.0204.0167-.0312.0312-.2695.3147-1.657.9163-2.0938 1.0308-1.8593.3728-3.292-.828-5.5315-.2187-.7877.2928-1.3567 1.5756-1.7188 2.5302-.482 1.2677-.8758 2.7956-1.3126 4.3106-.2.6982-.4178 1.4015-.6562 2.0616-.575 1.584-1.3113 2.9428-2.4064 3.717-.1638.1256-.787.41-.8125.6248.404.2037 4.185.056 4.8127 0 2.5033-.2184 3.6468-1.7733 4.4689-3.9045.5659-1.462 1.065-3.9864 2.0313-5.3102.0128-.0182.0183-.015.0313-.0312.1456-.1967.327-.3691.5-.4998.0454-.0347.0775-.0648.125-.0937.0344-.0219.1566-.0592.3438-.0937 1.7357-.3074 9.3491-1.3474 9.844-6.872.051-.5581.0158-1.1588-.0937-1.8117-.0543-.3364-.115-.6653-.2187-1.0308-.2457-.8691-.7981-1.614-1.5313-2.2177-.1926-.16-.405-.3285-.625-.4686-.846-.54-1.8774-.921-2.969-1.1557-.7332-.1582-1.4874-.239-2.25-.25C9.8402.0326 6.3978.2075.9418 0zm1.625 4.2169c.0235.0382.0389.0574.0625.0937C4.2284 6.8382 6.239 6.8135 8.067 7.0281c.666.0782 1.317.1849 1.9063.4686.262.1235.5116.2649.75.4685-.0292-.131-.076-.2564-.125-.3748-.444-1.0763-1.6487-1.6661-2.6875-1.9679-1.3938-.4984-2.4038-.0181-5.344-1.4056zm1.4063 3.186c.0107.0528.0094.0946.0313.1563.2199.6346 1.0403 1.6503 2.0938 1.8741.4567.1636.315.1174 1.0938.0937 1.1406-.0581 1.692-.0793 2.5.25-.02-.0493-.0423-.1091-.0624-.1563C9.0074 8.175 8.2593 8.421 5.8794 8.2464c-1.0188-.3074-1.2587-.3415-1.9063-.8434z"
            />
          </svg>
          Pelican</a
        >, by Sébastien Lavoie.
        <a
          href="https://github.com/sglavoie/sglavoie.github.io/blob/main/LICENSE"
          >MIT Licensed</a
        >.
      </p>
      <p id="rss-feed">
        <a href="https://www.sglavoie.com/feeds/sglavoie.rss.xml"
          ><svg
            width="1em"
            height="1em"
            viewBox="0 0 44 44"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
          >
            <title>RSS Feed</title>
            <desc>Created with Sketch.</desc>
            <defs></defs>
            <g
              id="Icons"
              stroke="none"
              stroke-width="1"
              fill="none"
              fill-rule="evenodd"
            >
              <g
                id="Color-"
                transform="translate(-800.000000, -760.000000)"
                fill="#FF9A00"
              >
                <path
                  d="M800.000471,797.714286 C800.000471,794.243 802.81487,791.428571 806.286118,791.428571 C809.757367,791.428571 812.571765,794.243 812.571765,797.714286 C812.571765,801.185571 809.757367,804 806.286118,804 C802.81487,804 800.000471,801.185571 800.000471,797.714286 Z M844,804 L835.619661,804 C835.619661,784.358714 819.641547,768.380429 800.000471,768.380429 L800.000471,760 C824.261497,760 844,779.738714 844,804 Z M829.333543,804 L820.953204,804 C820.953204,792.446857 811.553019,783.048143 800,783.048143 L800,774.666143 C816.174541,774.666143 829.333543,787.825286 829.333543,804 Z"
                  id="RSS"
                ></path>
              </g>
            </g>
          </svg>
        </a>
      </p>
    </footer>
  </body>
</html>