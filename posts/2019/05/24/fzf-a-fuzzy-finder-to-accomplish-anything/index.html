<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      rel="stylesheet"
      type="text/css"
      href="https://www.sglavoie.com/theme/css/style.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://www.sglavoie.com/theme/css/pygments.css"
    />

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Sébastien Lavoie" />
    <meta name="description" content="Posts and writings by Sébastien Lavoie" />

     <link
      href="https://www.sglavoie.com/feeds/sglavoie.rss.xml"
      type="application/rss+xml"
      rel="alternate"
      title="sglavoie.com RSS"
    />

    <!-- Favicon -->
    <link rel="apple-touch-icon" href="/theme/favicon/apple-touch-icon.png" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/theme/favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/theme/favicon/favicon-16x16.png"
    />
    <link rel="manifest" href="/theme/favicon/site.webmanifest" />
    <link
      rel="mask-icon"
      href="/theme/favicon/safari-pinned-tab.svg"
      color="#5bbad5"
    />
    <link rel="shortcut icon" href="/theme/favicon/favicon.ico" />
    <meta name="msapplication-TileColor" content="#2d89ef" />
    <meta
      name="msapplication-TileImage"
      content="/theme/favicon/mstile-144x144.png"
    />
    <meta
      name="msapplication-config"
      content="/theme/favicon/browserconfig.xml"
    />
    <meta name="theme-color" content="#000000" />
    <meta
      name="msapplication-config"
      content="/theme/favicon/browserconfig.xml"
    />
    <meta name="theme-color" content="#000000" />

      <meta name="keywords" content="plugin, productivity, shell, terminal">

      <!-- Open graph for social networks -->
      <meta name="og:title" property="og:title" content="Search and, most importantly, finally find what you are looking for on your machine. If you rely on the terminal a lot, fzf may well be capable of speeding up your productivity!">

    <title>
      sglavoie.com &ndash; fzf - A Fuzzy Finder to Accomplish&nbsp;Anything    </title>
  </head>

  <body>
    <aside>
      <div id="user_meta">
        <a href="https://www.sglavoie.com">
                <div>
                    <svg width="24.348mm" height="24.348mm" version="1.1" viewBox="0 0 24.348095 24.347754" xmlns="http://www.w3.org/2000/svg" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
                        <metadata>
                        <rdf:RDF>
                        <cc:Work rdf:about="">
                        <dc:format>image/svg+xml</dc:format>
                        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
                        <dc:title/>
                        </cc:Work>
                        </rdf:RDF>
                        </metadata>
                        <g transform="translate(81.397 -84.454)">
                        <path d="m-57.049 105.9v2.9029h-11.173v-2.9029z" fill="#c0c0c0">
                        <animate attributeName="fill" values="white;grey;white" dur="2s" repeatCount="indefinite" />
                        </path>
                        <path d="m-72.272 98.481-9.1246 5.7598v-3.548l5.8658-3.5019v-0.09215l-5.8658-3.5019v-3.548l9.1246 5.7598z" fill="#c0c0c0"/>
                        <path transform="scale(.26458)" d="m-273.15 319.2-27.588 14.77 8.498 5.3613 19.09-12.049zm15.309 25.67v44.412h8.8672v-35.635h33.361v-8.7773h-33.783zm25.336 24.66v8.7774h8.0254v10.975h8.8672v-19.752z" fill="#007bff"/>
                        </g>
                    </svg>
                </div>
        </a>
        <h2><a href="https://www.sglavoie.com">sglavoie.com</a></h2>
        <p></p>
        <ul>
            <li><a href="https://www.sglavoie.com/category/automation.html">automation</a></li>
          <li><a href="https://www.sglavoie.com/category/tips-and-tricks.html">tips-and-tricks</a></li>
          <li><a href="https://www.sglavoie.com/category/tools.html">tools</a></li>
          <li><a href="https://www.sglavoie.com/category/workflow.html">workflow</a></li>
          </ul>
      </div>
    </aside>

    <main>
      <header>
        <p>
          <a href="https://www.sglavoie.com">Index</a> &brvbar;
          <a href="https://www.sglavoie.com/archives.html">Archives</a> &brvbar;
          <a href="https://www.sglavoie.com/tags.html">Tags</a> &brvbar;
          <a href="https://www.sglavoie.com/learning-progress-2020.html"
            >Learning Progress</a
          >
 &brvbar;
          <a href="https://www.sglavoie.com/feeds/sglavoie.rss.xml">RSS</a>
          </p>
      </header>

<article>
  <div class="article_title">
    <h1><a href="https://www.sglavoie.com/posts/2019/05/24/fzf-a-fuzzy-finder-to-accomplish-anything/">fzf - A Fuzzy Finder to Accomplish&nbsp;Anything</a></h1>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 4 minutes</p>
  </div>
  <div class="article_text">
    <p>I know people who make such a mess when <em>not</em> organizing their files and
directories appropriately on their system, they would benefit greatly
from <code>fzf</code>.</p>
<h2>What is&nbsp;fzf?</h2>
<p>From the <a href="https://github.com/junegunn/fzf">official GitHub page</a>:</p>
<blockquote>
<p>fzf is a general-purpose command-line fuzzy finder. It&#8217;s an
interactive Unix filter for command-line that can be used with any list;
files, command history, processes, hostnames, bookmarks, git commits,&nbsp;etc.</p>
</blockquote>
<hr>
<h2>Terminal&nbsp;aliases</h2>
<p>One of the main uses of <code>fzf</code> is from the terminal. Being so flexible
to use, it can be combined with all kinds of commands with the help
of pipes (<code>|</code>) to bend it to your desires. Here are some aliases I am
currently using that undoubtedly improve my terminal&nbsp;workflow.</p>
<div class="highlight"><pre><span></span><code><span class="c1">##### Functions</span>

<span class="c1"># Select a configuration file with fzf and open it with Neovim</span>
conf<span class="o">()</span> <span class="o">{</span> du -a ~/.dotfiles/* ~/.config/* <span class="p">|</span> awk <span class="s1">&#39;{print $2}&#39;</span> <span class="p">|</span> fzf <span class="p">|</span> xargs -r nvim <span class="p">;</span><span class="o">}</span>

<span class="c1"># Select a file from current folder and recursively with fzf and open it with Neovim</span>
se<span class="o">()</span> <span class="o">{</span> du -a ./* <span class="p">|</span> awk <span class="s1">&#39;{print $2}&#39;</span> <span class="p">|</span> fzf <span class="p">|</span> xargs -r nvim <span class="p">;</span><span class="o">}</span>

<span class="c1"># Select a file recursively from university folder with fzf and open it with default app</span>
sc<span class="o">()</span> <span class="o">{</span> du -a ~/Dropbox/university/* <span class="p">|</span> awk <span class="s1">&#39;{print $2}&#39;</span> <span class="p">|</span> fzf <span class="p">|</span> xargs -r xdg-open <span class="p">;</span><span class="o">}</span>
</code></pre></div>


<p>The first alias, <code>conf</code> (short for <em>configuration</em>), allows to search
only within the two folders specified for configuration files, which
makes it pop almost instantaneously since it doesn&#8217;t have to scan files
scattered anywhere else. You can then type anything that partially
matches a file path and even include slashes (<code>/</code>) in your match if you
know in which directories to look. You can then type <code>Enter</code> to open the
file with your favorite text editor (here set to <code>nvim</code>) or type <code>CTRL + c</code> to abort the&nbsp;command.</p>
<p>The other aliases work in a similar fashion. <code>se</code> (short for <em>search</em>)
will simply search recursively for any kind of files in the current
directory and open the selected file in a text editor. Of course,
certain file types can be excluded and everything else can be tweaked
with more piping power. In the case of the third alias, <code>sc</code> (short for
<em>school</em>), it will also search recursively for any kind of file in the
<code>university</code> folder and will open it with the default application set to
open that kind of file (video, image, text, <span class="caps">PDF</span>,&nbsp;etc.).</p>
<hr>
<h2>Vim/Neovim&nbsp;integration</h2>
<p>Using <a href="https://github.com/junegunn/vim-plug">Vim-Plug</a> from the same
author as <code>fzf</code> is as easy as adding the following to Vim/Neovim&#8217;s
configuration file. First, we make sure that <code>fzf</code> is available on the
system and install it if it&#8217;s not. Then, we install the <code>fzf.vim</code> plugin
to integrate fzf in Vim and optionally, we may configure more options so
that <code>fzf</code> can be used more optimally, which can be found on the <a href="https://github.com/junegunn/fzf.vim">GitHub
plugin page</a>.</p>
<div class="highlight"><pre><span></span><code>Plug <span class="s1">&#39;junegunn/fzf&#39;</span><span class="p">,</span> { <span class="s1">&#39;dir&#39;</span>: $HOME . <span class="s1">&#39;/.fzf&#39;</span><span class="p">,</span> <span class="s1">&#39;do&#39;</span>: <span class="s1">&#39;./install --all&#39;</span> }
Plug <span class="s1">&#39;junegunn/fzf.vim&#39;</span>

<span class="c">&quot;&quot;&quot;&quot;&quot; [ FZF ]</span>
<span class="c">&quot; Allows fzf to ignore patterns in .gitignore</span>
<span class="k">let</span> $FZF_DEFAULT_COMMAND <span class="p">=</span> <span class="s1">&#39;ag -g &quot;&quot;&#39;</span>

<span class="c">&quot; Mapping selecting mappings</span>
nmap <span class="p">&lt;</span>leader<span class="p">&gt;&lt;</span><span class="k">tab</span><span class="p">&gt;</span> <span class="p">&lt;</span>plug<span class="p">&gt;(</span>fzf<span class="p">-</span>maps<span class="p">-</span><span class="k">n</span><span class="p">)</span>
xmap <span class="p">&lt;</span>leader<span class="p">&gt;&lt;</span><span class="k">tab</span><span class="p">&gt;</span> <span class="p">&lt;</span>plug<span class="p">&gt;(</span>fzf<span class="p">-</span>maps<span class="p">-</span><span class="k">x</span><span class="p">)</span>
omap <span class="p">&lt;</span>leader<span class="p">&gt;&lt;</span><span class="k">tab</span><span class="p">&gt;</span> <span class="p">&lt;</span>plug<span class="p">&gt;(</span>fzf<span class="p">-</span>maps<span class="p">-</span><span class="k">o</span><span class="p">)</span>

<span class="c">&quot; Insert mode completion</span>
imap <span class="p">&lt;</span><span class="k">c</span><span class="p">-</span><span class="k">x</span><span class="p">&gt;&lt;</span><span class="k">c</span><span class="p">-</span><span class="k">k</span><span class="p">&gt;</span> <span class="p">&lt;</span>plug<span class="p">&gt;(</span>fzf<span class="p">-</span><span class="nb">complete</span><span class="p">-</span>word<span class="p">)</span>
imap <span class="p">&lt;</span><span class="k">c</span><span class="p">-</span><span class="k">x</span><span class="p">&gt;&lt;</span><span class="k">c</span><span class="p">-</span><span class="k">f</span><span class="p">&gt;</span> <span class="p">&lt;</span>plug<span class="p">&gt;(</span>fzf<span class="p">-</span><span class="nb">complete</span><span class="p">-</span><span class="nb">path</span><span class="p">)</span>
imap <span class="p">&lt;</span><span class="k">c</span><span class="p">-</span><span class="k">x</span><span class="p">&gt;&lt;</span><span class="k">c</span><span class="p">-</span><span class="k">j</span><span class="p">&gt;</span> <span class="p">&lt;</span>plug<span class="p">&gt;(</span>fzf<span class="p">-</span><span class="nb">complete</span><span class="p">-</span><span class="k">file</span><span class="p">-</span>ag<span class="p">)</span>
imap <span class="p">&lt;</span><span class="k">c</span><span class="p">-</span><span class="k">x</span><span class="p">&gt;&lt;</span><span class="k">c</span><span class="p">-</span><span class="k">l</span><span class="p">&gt;</span> <span class="p">&lt;</span>plug<span class="p">&gt;(</span>fzf<span class="p">-</span><span class="nb">complete</span><span class="p">-</span>line<span class="p">)</span>

<span class="c">&quot; Advanced customization using autoload functions</span>
<span class="c">&quot; (expand word completing window)</span>
<span class="nb">inoremap</span> <span class="p">&lt;</span>expr<span class="p">&gt;</span> <span class="p">&lt;</span><span class="k">c</span><span class="p">-</span><span class="k">x</span><span class="p">&gt;&lt;</span><span class="k">c</span><span class="p">-</span><span class="k">k</span><span class="p">&gt;</span> fzf#<span class="k">vim</span>#<span class="nb">complete</span>#word<span class="p">(</span>{<span class="s1">&#39;left&#39;</span>: <span class="s1">&#39;20%&#39;</span>}<span class="p">)</span>

<span class="c">&quot; Make use of fzf command instead of CtrlP</span>
map <span class="p">&lt;</span>C<span class="p">-</span><span class="k">p</span><span class="p">&gt;</span> :FZF<span class="p">&lt;</span><span class="k">cr</span><span class="p">&gt;</span>
<span class="c">&quot;&quot;&quot; [ / FZF ]</span>
</code></pre></div>


<h3>Working with&nbsp;Neovim</h3>
<p><code>fzf</code> really shines when used with Neovim as it is extremely fast,
especially when configured with
<a href="https://github.com/ggreer/the_silver_searcher">The Silver Searcher</a>
which deserves its own article. It
integrates with core functionality of Vim and makes it easy to find what
you are looking&nbsp;for.</p>
<p>From the above configuration, for&nbsp;instance:</p>
<div class="highlight"><pre><span></span><code>nmap <span class="p">&lt;</span>leader<span class="p">&gt;&lt;</span><span class="k">tab</span><span class="p">&gt;</span> <span class="p">&lt;</span>plug<span class="p">&gt;(</span>fzf<span class="p">-</span>maps<span class="p">-</span><span class="k">n</span><span class="p">)</span>
</code></pre></div>


<p>This allows to search for existing mappings and commands, which can be
faster than diving in the help pages when looking for a quick&nbsp;reference.</p>
<p>This one in insert mode is very&nbsp;handy:</p>
<div class="highlight"><pre><span></span><code>imap <span class="p">&lt;</span><span class="k">c</span><span class="p">-</span><span class="k">x</span><span class="p">&gt;&lt;</span><span class="k">c</span><span class="p">-</span><span class="k">k</span><span class="p">&gt;</span> <span class="p">&lt;</span>plug<span class="p">&gt;(</span>fzf<span class="p">-</span><span class="nb">complete</span><span class="p">-</span>word<span class="p">)</span>
</code></pre></div>


<p>Without affecting keyword completion with <code>CTRL + n</code> and <code>CTRL + p</code>
(unless you have <code>set complete+=k</code> in your configuration file), you can
complete words from a custom dictionary of your choice with <code>CTRL + x CTRL + k</code>. The window that appears can be moved and resized, which is
what is happening&nbsp;here:</p>
<div class="highlight"><pre><span></span><code><span class="nb">inoremap</span> <span class="p">&lt;</span>expr<span class="p">&gt;</span> <span class="p">&lt;</span><span class="k">c</span><span class="p">-</span><span class="k">x</span><span class="p">&gt;&lt;</span><span class="k">c</span><span class="p">-</span><span class="k">k</span><span class="p">&gt;</span> fzf#<span class="k">vim</span>#<span class="nb">complete</span>#word<span class="p">(</span>{<span class="s1">&#39;left&#39;</span>: <span class="s1">&#39;20%&#39;</span>}<span class="p">)</span>
</code></pre></div>


<p>In the same way, file paths can be completed from the current working
directory <code>CTRL + x CTRL + f</code> and existing lines can be quickly inserted
with <code>CTRL + x CTRL + l</code>.</p>
<p><a href="https://www.sglavoie.com/images/posts/0016_a_fuzzy_file_finder_to_accomplish_anything/fzf_autocompletion.png"><img src="https://www.sglavoie.com/images/posts/0016_a_fuzzy_file_finder_to_accomplish_anything/fzf_autocompletion.png" alt="fzf_line_autocompletion" class="max-size-img-post"></a></p>
<p>Finally, I use <code>fzf</code> to open any file quickly from the working directory
inside Neovim with the mapping <code>CTRL + p</code>, which replaces the CtrlP
plugin and can work much faster on larger&nbsp;codebases.</p>
<hr>
<h2>Conclusion</h2>
<p>There is much more that can be done with it and I am barely scratching
the surface here. Luke Smith shared
<a href="https://www.youtube.com/watch?v=vt33Hp-4RXg">a great video</a> that will
complement the information from this post nicely with a more technical
approach. Highly recommended to see more practical ways to use this
superb piece of&nbsp;software!</p>
<p><a href="https://lukesmith.xyz/">Luke Smith</a> also makes a strong point of
combining <code>fzf</code> with <a href="https://tools.suckless.org/dmenu/">dmenu</a>, a tool
that I described succinctly in
<a href="https://www.sglavoie.com/posts/2019/05/12/suckless-minimalist-tools-that-work-great/">a previous article</a>.</p>
  </div>
  <div class="article_meta">
    <p>Posted on: Fri 24 May 2019</p>
    <p>Category: <a href="https://www.sglavoie.com/category/workflow.html">workflow</a>
 &ndash; Tags:
      <a href="https://www.sglavoie.com/tag/plugin.html">plugin</a>,      <a href="https://www.sglavoie.com/tag/productivity.html">productivity</a>,      <a href="https://www.sglavoie.com/tag/shell.html">shell</a>,      <a href="https://www.sglavoie.com/tag/terminal.html">terminal</a>    </p>
  </div>

  <div id="article_comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_identifier = "posts/2019/05/24/fzf-a-fuzzy-finder-to-accomplish-anything/";
        (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = '//sglavoie.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
         })();
    </script>
  </div>

</article>
  
      <div id="ending_message">
        <p>
          &copy; Sébastien Lavoie. Built in
          <a
            href="https://www.python.org/"
            target="_blank"
            rel="noopener noreferrer"
            >Python</a
          >
          using
          <a
            href="http://getpelican.com"
            target="_blank"
            rel="noopener noreferrer"
            >Pelican</a
          >. Theme adapted from Giulio Fidente on
          <a
            href="https://github.com/gfidente/pelican-svbhack"
            target="_blank"
            rel="noopener noreferrer"
            >GitHub</a
          >.
        </p>
      </div>
    </main>
  </body>
</html>